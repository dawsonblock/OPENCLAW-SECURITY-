npm warn Unknown project config "allow-build-scripts". This will stop working in the next major version of npm.

> openclaw@2026.2.9 test
> node scripts/test-parallel.mjs


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/Users/dawsonblock/Downloads/openclaw-main[39m


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/Users/dawsonblock/Downloads/openclaw-main[39m

 [31mâ¯[39m extensions/lobster/src/lobster-tool.test.ts [2m([22m[2m9 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 6639[2mms[22m[39m
[31m     [31mÃ—[31m runs lobster and returns parsed envelope in details[39m[33m 1018[2mms[22m[39m
     [33m[2mâœ“[22m[39m tolerates noisy stdout before the JSON envelope [33m 4704[2mms[22m[39m
     [32mâœ“[39m requires absolute lobsterPath when provided (even though it is ignored)[32m 5[2mms[22m[39m
     [32mâœ“[39m rejects lobsterPath (deprecated) when invalid[32m 2[2mms[22m[39m
     [32mâœ“[39m rejects absolute cwd[32m 1[2mms[22m[39m
     [32mâœ“[39m rejects cwd that escapes the gateway working directory[32m 0[2mms[22m[39m
     [32mâœ“[39m uses pluginConfig.lobsterPath when provided[32m 253[2mms[22m[39m
     [33m[2mâœ“[22m[39m rejects invalid JSON from lobster [33m 654[2mms[22m[39m
     [32mâœ“[39m can be gated off in sandboxed contexts[32m 1[2mms[22m[39m
 [32mâœ“[39m extensions/matrix/src/matrix/send.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 7118[2mms[22m[39m
 [32mâœ“[39m src/security/exec-budgets.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [31mâ¯[39m src/commands/doctor-security.test.ts [2m([22m[2m4 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 13[2mms[22m[39m
     [32mâœ“[39m warns when exposed without auth[32m 2[2mms[22m[39m
     [32mâœ“[39m uses env token to avoid critical warning[32m 0[2mms[22m[39m
     [32mâœ“[39m treats whitespace token as missing[32m 0[2mms[22m[39m
[31m     [31mÃ—[31m skips warning for loopback bind[39m[32m 8[2mms[22m[39m
 [31mâ¯[39m src/agents/openclaw-tools.camera.test.ts [2m([22m[2m3 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 38[2mms[22m[39m
     [32mâœ“[39m maps jpg payloads to image/jpeg[32m 13[2mms[22m[39m
     [32mâœ“[39m passes deviceId when provided[32m 4[2mms[22m[39m
[31m     [31mÃ—[31m passes invoke and command timeouts[39m[32m 5[2mms[22m[39m
 [31mâ¯[39m src/agents/pi-tools.create-openclaw-coding-tools.adds-claude-style-aliases-schemas-without-dropping-d.test.ts [2m([22m[2m5 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[32m 74[2mms[22m[39m
[31m     [31mÃ—[31m keeps read tool image metadata intact[39m[32m 33[2mms[22m[39m
[31m     [31mÃ—[31m returns text content without image blocks for text files[39m[32m 14[2mms[22m[39m
     [32mâœ“[39m filters tools by sandbox policy[32m 2[2mms[22m[39m
     [32mâœ“[39m hard-disables write/edit when sandbox workspaceAccess is ro[32m 2[2mms[22m[39m
     [32mâœ“[39m filters tools by agent tool policy even without sandbox[32m 5[2mms[22m[39m
 [32mâœ“[39m src/cli/gateway.sigterm.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 11547[2mms[22m[39m
     [33m[2mâœ“[22m[39m exits 0 on SIGTERM [33m 11542[2mms[22m[39m
 [32mâœ“[39m src/commands/onboard-non-interactive.gateway.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 12385[2mms[22m[39m
     [33m[2mâœ“[22m[39m writes gateway token auth into config and gateway enforces it [33m 9489[2mms[22m[39m
     [33m[2mâœ“[22m[39m auto-generates token auth when binding LAN and persists the token [33m 2744[2mms[22m[39m
 [32mâœ“[39m src/rfsn/final-authority.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 26251[2mms[22m[39m
     [33m[2mâœ“[22m[39m tool execution and node invoke only happen at kernel choke points [33m 26231[2mms[22m[39m
 [32mâœ“[39m src/commands/onboard-non-interactive.provider-auth.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 27436[2mms[22m[39m
     [33m[2mâœ“[22m[39m stores xAI API key and sets default model [33m 19281[2mms[22m[39m
     [33m[2mâœ“[22m[39m stores Vercel AI Gateway API key and sets default model [33m 2800[2mms[22m[39m
     [33m[2mâœ“[22m[39m stores token auth profile [33m 1110[2mms[22m[39m
     [33m[2mâœ“[22m[39m stores OpenAI API key and sets OpenAI default model [33m 1330[2mms[22m[39m
     [33m[2mâœ“[22m[39m stores Cloudflare AI Gateway API key and metadata [33m 1343[2mms[22m[39m
     [33m[2mâœ“[22m[39m infers Cloudflare auth choice from API key flags [33m 1562[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/web-tools.readability.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 2479[2mms[22m[39m
     [33m[2mâœ“[22m[39m extracts readable text [33m 2397[2mms[22m[39m
 [32mâœ“[39m extensions/memory-lancedb/index.test.ts [2m([22m[2m7 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[33m 46739[2mms[22m[39m
     [33m[2mâœ“[22m[39m memory plugin registers and initializes correctly [33m 46620[2mms[22m[39m
 [32mâœ“[39m extensions/twitch/src/onboarding.test.ts [2m([22m[2m15 tests[22m[2m)[22m[33m 46790[2mms[22m[39m
       [33m[2mâœ“[22m[39m should return existing token when user confirms to keep it [33m 46593[2mms[22m[39m
 [32mâœ“[39m extensions/nostr/src/nostr-profile.test.ts [2m([22m[2m31 tests[22m[2m)[22m[33m 379[2mms[22m[39m
[90mstderr[2m | extensions/bluebubbles/src/monitor.test.ts[2m > [22m[2mBlueBubbles webhook monitor[2m > [22m[2mwebhook parsing + auth handling[2m > [22m[2mrejects requests with invalid JSON
[22m[39m[bluebubbles] webhook rejected: invalid json

[90mstderr[2m | extensions/bluebubbles/src/monitor.test.ts[2m > [22m[2mBlueBubbles webhook monitor[2m > [22m[2mwebhook parsing + auth handling[2m > [22m[2mreturns 400 when request body times out (Slow-Loris protection)
[22m[39m[bluebubbles] webhook rejected: request body timeout

[90mstderr[2m | extensions/bluebubbles/src/monitor.test.ts[2m > [22m[2mBlueBubbles webhook monitor[2m > [22m[2mwebhook parsing + auth handling[2m > [22m[2mrejects unauthorized requests with wrong password
[22m[39m[bluebubbles] webhook rejected: unauthorized token

[90mstderr[2m | extensions/bluebubbles/src/monitor.test.ts[2m > [22m[2mBlueBubbles webhook monitor[2m > [22m[2mwebhook parsing + auth handling[2m > [22m[2mrejects localhost requests without authentication
[22m[39m[bluebubbles] webhook rejected: unauthorized token

 [32mâœ“[39m extensions/bluebubbles/src/monitor.test.ts [2m([22m[2m51 tests[22m[2m)[22m[33m 720[2mms[22m[39m
 [32mâœ“[39m extensions/nostr/src/nostr-profile.fuzz.test.ts [2m([22m[2m51 tests[22m[2m)[22m[33m 1647[2mms[22m[39m
     [33m[2mâœ“[22m[39m handles profile with all fields at max length [33m 328[2mms[22m[39m
     [33m[2mâœ“[22m[39m handles rapid sequential events with monotonic timestamps [33m 1104[2mms[22m[39m
[90mstderr[2m | src/agents/pi-embedded-runner.test.ts[2m > [22m[2mrunEmbeddedPiAgent[2m > [22m[2mfalls back to per-agent workspace when runtime workspaceDir is missing
[22m[39m[33m[agent/embedded][39m [33m[workspace-fallback] caller=runEmbeddedPiAgent reason=missing run=run-fallback-workspace session=sha256:fea8aefc758d sessionKey=sha256:e77fc8cb017d agent=main workspace=sha256:9f88a2b14dd8[39m

[90mstderr[2m | src/agents/pi-embedded-runner.test.ts[2m > [22m[2mrunEmbeddedPiAgent[2m > [22m[2mfalls back to per-agent workspace when runtime workspaceDir is missing
[22m[39m[33m[agent/embedded][39m [33mlow context window: openai/mock-1 ctx=16000 (warn<32000) source=modelsConfig[39m

 [32mâœ“[39m extensions/google-gemini-cli-auth/oauth.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 50331[2mms[22m[39m
     [33m[2mâœ“[22m[39m returns null when gemini binary is not in PATH [33m 46296[2mms[22m[39m
     [33m[2mâœ“[22m[39m extracts credentials from oauth2.js in known path [33m 2315[2mms[22m[39m
     [33m[2mâœ“[22m[39m returns null when oauth2.js cannot be found [33m 911[2mms[22m[39m
     [33m[2mâœ“[22m[39m returns null when oauth2.js lacks credentials [33m 468[2mms[22m[39m
     [33m[2mâœ“[22m[39m caches credentials after first extraction [33m 332[2mms[22m[39m
[90mstderr[2m | src/agents/pi-embedded-runner.test.ts[2m > [22m[2mrunEmbeddedPiAgent[2m > [22m[2mpersists the first user message before assistant output
[22m[39m[33m[agent/embedded][39m [33mlow context window: openai/mock-1 ctx=16000 (warn<32000) source=modelsConfig[39m

[90mstderr[2m | src/agents/pi-embedded-runner.test.ts[2m > [22m[2mrunEmbeddedPiAgent[2m > [22m[2mpersists the user message when prompt fails before assistant output
[22m[39m[33m[agent/embedded][39m [33mlow context window: openai/mock-error ctx=16000 (warn<32000) source=modelsConfig[39m

[90mstderr[2m | src/agents/pi-embedded-runner.test.ts[2m > [22m[2mrunEmbeddedPiAgent[2m > [22m[2mappends new user + assistant after existing transcript entries
[22m[39m[33m[agent/embedded][39m [33mlow context window: openai/mock-1 ctx=16000 (warn<32000) source=modelsConfig[39m

[90mstderr[2m | src/agents/pi-embedded-runner.test.ts[2m > [22m[2mrunEmbeddedPiAgent[2m > [22m[2mpersists multi-turn user/assistant ordering across runs
[22m[39m[33m[agent/embedded][39m [33mlow context window: openai/mock-1 ctx=16000 (warn<32000) source=modelsConfig[39m

[90mstderr[2m | src/agents/pi-embedded-runner.test.ts[2m > [22m[2mrunEmbeddedPiAgent[2m > [22m[2mpersists multi-turn user/assistant ordering across runs
[22m[39m[33m[agent/embedded][39m [33mlow context window: openai/mock-1 ctx=16000 (warn<32000) source=modelsConfig[39m

 [32mâœ“[39m src/agents/pi-tools.safe-bins.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 5303[2mms[22m[39m
     [33m[2mâœ“[22m[39m threads tools.exec.safeBins into exec allowlist checks [33m 5299[2mms[22m[39m
 [32mâœ“[39m extensions/twitch/src/probe.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 135[2mms[22m[39m
[90mstderr[2m | src/agents/pi-embedded-runner.test.ts[2m > [22m[2mrunEmbeddedPiAgent[2m > [22m[2mrepairs orphaned user messages and continues
[22m[39m[33m[agent/embedded][39m [33mlow context window: openai/mock-1 ctx=16000 (warn<32000) source=modelsConfig[39m

[90mstderr[2m | src/agents/pi-embedded-runner.test.ts[2m > [22m[2mrunEmbeddedPiAgent[2m > [22m[2mrepairs orphaned single-user sessions and continues
[22m[39m[33m[agent/embedded][39m [33mlow context window: openai/mock-1 ctx=16000 (warn<32000) source=modelsConfig[39m

 [32mâœ“[39m src/agents/pi-embedded-runner.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 15092[2mms[22m[39m
     [33m[2mâœ“[22m[39m falls back to per-agent workspace when runtime workspaceDir is missing [33m 1953[2mms[22m[39m
     [33m[2mâœ“[22m[39m persists the first user message before assistant output [33m 800[2mms[22m[39m
     [33m[2mâœ“[22m[39m persists the user message when prompt fails before assistant output [33m 575[2mms[22m[39m
     [33m[2mâœ“[22m[39m appends new user + assistant after existing transcript entries [33m 885[2mms[22m[39m
     [33m[2mâœ“[22m[39m persists multi-turn user/assistant ordering across runs [33m 1198[2mms[22m[39m
     [33m[2mâœ“[22m[39m repairs orphaned user messages and continues [33m 1196[2mms[22m[39m
     [33m[2mâœ“[22m[39m repairs orphaned single-user sessions and continues [33m 946[2mms[22m[39m
 [32mâœ“[39m src/agents/sandbox-agent-config.agent-specific-sandbox-config.should-use-global-sandbox-config-no-agent.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 11416[2mms[22m[39m
     [33m[2mâœ“[22m[39m should use global sandbox config when no agent-specific config exists [33m 5094[2mms[22m[39m
     [33m[2mâœ“[22m[39m should allow agent-specific docker setupCommand overrides [33m 1791[2mms[22m[39m
     [33m[2mâœ“[22m[39m should ignore agent-specific docker overrides when scope is shared [33m 1883[2mms[22m[39m
 [32mâœ“[39m src/plugins/install.test.ts [2m([22m[2m14 tests[22m[2m)[22m[33m 46174[2mms[22m[39m
     [33m[2mâœ“[22m[39m installs into ~/.openclaw/extensions and uses unscoped id [33m 17671[2mms[22m[39m
     [33m[2mâœ“[22m[39m rejects installing when plugin already exists [33m 11775[2mms[22m[39m
     [33m[2mâœ“[22m[39m installs from a zip archive [33m 316[2mms[22m[39m
     [33m[2mâœ“[22m[39m allows updates when mode is update [33m 7990[2mms[22m[39m
     [33m[2mâœ“[22m[39m rejects traversal-like plugin names [33m 2057[2mms[22m[39m
     [33m[2mâœ“[22m[39m rejects reserved plugin ids [33m 3188[2mms[22m[39m
     [33m[2mâœ“[22m[39m rejects packages without openclaw.extensions [33m 2565[2mms[22m[39m
 [32mâœ“[39m src/config/config.nix-integration-u3-u5-u9.test.ts [2m([22m[2m19 tests[22m[2m)[22m[33m 4130[2mms[22m[39m
       [33m[2mâœ“[22m[39m expands ~ in common path-ish config fields [33m 554[2mms[22m[39m
       [33m[2mâœ“[22m[39m accepts config with only botToken [33m 792[2mms[22m[39m
       [33m[2mâœ“[22m[39m accepts config with only tokenFile [33m 465[2mms[22m[39m
       [33m[2mâœ“[22m[39m accepts config with both botToken and tokenFile [33m 352[2mms[22m[39m
 [32mâœ“[39m src/agents/openai-responses.reasoning-replay.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 2703[2mms[22m[39m
     [33m[2mâœ“[22m[39m replays reasoning for tool-call-only turns (OpenAI requires it) [33m 1343[2mms[22m[39m
     [33m[2mâœ“[22m[39m still replays reasoning when paired with an assistant message [33m 1356[2mms[22m[39m
 [32mâœ“[39m src/commands/message.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 2528[2mms[22m[39m
     [33m[2mâœ“[22m[39m defaults channel when only one configured [33m 2250[2mms[22m[39m
 [32mâœ“[39m extensions/line/src/channel.logout.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 164[2mms[22m[39m
 [32mâœ“[39m src/config/config.legacy-config-detection.accepts-imessage-dmpolicy.test.ts [2m([22m[2m24 tests[22m[2m)[22m[33m 3428[2mms[22m[39m
 [32mâœ“[39m extensions/nostr/src/types.test.ts [2m([22m[2m12 tests[22m[2m)[22m[33m 320[2mms[22m[39m
 [32mâœ“[39m extensions/zalo/src/monitor.webhook.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 309[2mms[22m[39m
 [32mâœ“[39m extensions/nostr/src/nostr-bus.test.ts [2m([22m[2m32 tests[22m[2m)[22m[33m 348[2mms[22m[39m
 [32mâœ“[39m extensions/nostr/src/nostr-bus.fuzz.test.ts [2m([22m[2m76 tests[22m[2m)[22m[32m 282[2mms[22m[39m
 [32mâœ“[39m extensions/msteams/src/conversation-store-fs.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 155[2mms[22m[39m
 [32mâœ“[39m src/cron/isolated-agent.uses-last-non-empty-agent-text-as.test.ts [2m([22m[2m14 tests[22m[2m)[22m[33m 10650[2mms[22m[39m
     [33m[2mâœ“[22m[39m treats blank model overrides as unset [33m 950[2mms[22m[39m
     [33m[2mâœ“[22m[39m uses last non-empty agent text as summary [33m 887[2mms[22m[39m
     [33m[2mâœ“[22m[39m appends current time after the cron header line [33m 692[2mms[22m[39m
     [33m[2mâœ“[22m[39m uses agentId for workspace, session key, and store paths [33m 519[2mms[22m[39m
     [33m[2mâœ“[22m[39m uses model override when provided [33m 609[2mms[22m[39m
     [33m[2mâœ“[22m[39m uses hooks.gmail.model for Gmail hook sessions [33m 324[2mms[22m[39m
     [33m[2mâœ“[22m[39m wraps external hook content by default [33m 432[2mms[22m[39m
     [33m[2mâœ“[22m[39m skips external content wrapping when hooks.gmail opts out [33m 1157[2mms[22m[39m
     [33m[2mâœ“[22m[39m ignores hooks.gmail.model when not in the allowlist [33m 1201[2mms[22m[39m
     [33m[2mâœ“[22m[39m defaults thinking to low for reasoning-capable models [33m 321[2mms[22m[39m
     [33m[2mâœ“[22m[39m truncates long summaries [33m 496[2mms[22m[39m
     [33m[2mâœ“[22m[39m starts a fresh session id for each cron run [33m 1530[2mms[22m[39m
     [33m[2mâœ“[22m[39m preserves an existing cron session label [33m 1355[2mms[22m[39m
[90mstderr[2m | src/agents/pi-embedded-runner.run-embedded-pi-agent.auth-profile-rotation.test.ts[2m > [22m[2mrunEmbeddedPiAgent auth profile rotation[2m > [22m[2mrotates for auto-pinned profiles
[22m[39m[33m[agent/embedded][39m [33mlow context window: openai/mock-1 ctx=16000 (warn<32000) source=modelsConfig[39m

[90mstderr[2m | src/agents/pi-embedded-runner.run-embedded-pi-agent.auth-profile-rotation.test.ts[2m > [22m[2mrunEmbeddedPiAgent auth profile rotation[2m > [22m[2mdoes not rotate for user-pinned profiles
[22m[39m[33m[agent/embedded][39m [33mlow context window: openai/mock-1 ctx=16000 (warn<32000) source=modelsConfig[39m

[90mstderr[2m | src/agents/pi-embedded-runner.run-embedded-pi-agent.auth-profile-rotation.test.ts[2m > [22m[2mrunEmbeddedPiAgent auth profile rotation[2m > [22m[2mhonors user-pinned profiles even when in cooldown
[22m[39m[33m[agent/embedded][39m [33mlow context window: openai/mock-1 ctx=16000 (warn<32000) source=modelsConfig[39m

[90mstderr[2m | src/agents/pi-embedded-runner.run-embedded-pi-agent.auth-profile-rotation.test.ts[2m > [22m[2mrunEmbeddedPiAgent auth profile rotation[2m > [22m[2mignores user-locked profile when provider mismatches
[22m[39m[33m[agent/embedded][39m [33mlow context window: openai/mock-1 ctx=16000 (warn<32000) source=modelsConfig[39m

[90mstderr[2m | src/agents/pi-embedded-runner.run-embedded-pi-agent.auth-profile-rotation.test.ts[2m > [22m[2mrunEmbeddedPiAgent auth profile rotation[2m > [22m[2mskips profiles in cooldown during initial selection
[22m[39m[33m[agent/embedded][39m [33mlow context window: openai/mock-1 ctx=16000 (warn<32000) source=modelsConfig[39m

[90mstderr[2m | src/agents/pi-embedded-runner.run-embedded-pi-agent.auth-profile-rotation.test.ts[2m > [22m[2mrunEmbeddedPiAgent auth profile rotation[2m > [22m[2mfails over when all profiles are in cooldown and fallbacks are configured
[22m[39m[33m[agent/embedded][39m [33mlow context window: openai/mock-1 ctx=16000 (warn<32000) source=modelsConfig[39m

 [32mâœ“[39m src/cli/gateway-cli.coverage.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 25486[2mms[22m[39m
     [33m[2mâœ“[22m[39m registers call/health commands and routes to callGateway [33m 21280[2mms[22m[39m
     [33m[2mâœ“[22m[39m uses env/config port when --port is omitted [33m 3860[2mms[22m[39m
[90mstderr[2m | src/agents/pi-embedded-runner.run-embedded-pi-agent.auth-profile-rotation.test.ts[2m > [22m[2mrunEmbeddedPiAgent auth profile rotation[2m > [22m[2mfails over when all profiles are in cooldown and fallbacks are configured
[22m[39m[31m[diagnostic][39m [31mlane task error: lane=main durationMs=0 error="FailoverError: No available auth profile for openai (all in cooldown or unavailable)."[39m

[90mstderr[2m | src/agents/pi-embedded-runner.run-embedded-pi-agent.auth-profile-rotation.test.ts[2m > [22m[2mrunEmbeddedPiAgent auth profile rotation[2m > [22m[2mfails over when all profiles are in cooldown and fallbacks are configured
[22m[39m[31m[diagnostic][39m [31mlane task error: lane=session:agent:test:cooldown-failover durationMs=0 error="FailoverError: No available auth profile for openai (all in cooldown or unavailable)."[39m

[90mstderr[2m | src/agents/pi-embedded-runner.run-embedded-pi-agent.auth-profile-rotation.test.ts[2m > [22m[2mrunEmbeddedPiAgent auth profile rotation[2m > [22m[2mfails over when auth is unavailable and fallbacks are configured
[22m[39m[33m[agent/embedded][39m [33mlow context window: openai/mock-1 ctx=16000 (warn<32000) source=modelsConfig[39m

[90mstderr[2m | src/agents/pi-embedded-runner.run-embedded-pi-agent.auth-profile-rotation.test.ts[2m > [22m[2mrunEmbeddedPiAgent auth profile rotation[2m > [22m[2mfails over when auth is unavailable and fallbacks are configured
[22m[39m[31m[diagnostic][39m [31mlane task error: lane=main durationMs=56 error="FailoverError: No API key found for provider "openai". Auth store: /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-agent-xzmuX4/auth-profiles.json (agentDir: /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-agent-xzmuX4). Configure auth for this agent (openclaw agents add <id>) or copy auth-profiles.json from the main agentDir."[39m

[90mstderr[2m | src/agents/pi-embedded-runner.run-embedded-pi-agent.auth-profile-rotation.test.ts[2m > [22m[2mrunEmbeddedPiAgent auth profile rotation[2m > [22m[2mfails over when auth is unavailable and fallbacks are configured
[22m[39m[31m[diagnostic][39m [31mlane task error: lane=session:agent:test:auth-unavailable durationMs=67 error="FailoverError: No API key found for provider "openai". Auth store: /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-agent-xzmuX4/auth-profiles.json (agentDir: /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-agent-xzmuX4). Configure auth for this agent (openclaw agents add <id>) or copy auth-profiles.json from the main agentDir."[39m

[90mstderr[2m | src/agents/pi-embedded-runner.run-embedded-pi-agent.auth-profile-rotation.test.ts[2m > [22m[2mrunEmbeddedPiAgent auth profile rotation[2m > [22m[2mskips profiles in cooldown when rotating after failure
[22m[39m[33m[agent/embedded][39m [33mlow context window: openai/mock-1 ctx=16000 (warn<32000) source=modelsConfig[39m

 [32mâœ“[39m src/agents/pi-embedded-runner.run-embedded-pi-agent.auth-profile-rotation.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 19713[2mms[22m[39m
     [33m[2mâœ“[22m[39m rotates for auto-pinned profiles [33m 637[2mms[22m[39m
     [33m[2mâœ“[22m[39m does not rotate for user-pinned profiles [33m 524[2mms[22m[39m
     [33m[2mâœ“[22m[39m honors user-pinned profiles even when in cooldown [33m 335[2mms[22m[39m
     [33m[2mâœ“[22m[39m skips profiles in cooldown during initial selection [33m 577[2mms[22m[39m
     [33m[2mâœ“[22m[39m fails over when all profiles are in cooldown and fallbacks are configured [33m 589[2mms[22m[39m
 [32mâœ“[39m extensions/llm-task/src/llm-task-tool.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 104[2mms[22m[39m
 [32mâœ“[39m extensions/msteams/src/probe.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 125[2mms[22m[39m
 [32mâœ“[39m extensions/msteams/src/attachments.test.ts [2m([22m[2m19 tests[22m[2m)[22m[33m 660[2mms[22m[39m
       [33m[2mâœ“[22m[39m returns empty string when no attachments [33m 609[2mms[22m[39m
 [32mâœ“[39m extensions/matrix/src/matrix/send/targets.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 40[2mms[22m[39m
 [32mâœ“[39m src/commands/agent.test.ts [2m([22m[2m16 tests[22m[2m)[22m[33m 30315[2mms[22m[39m
     [33m[2mâœ“[22m[39m creates a session entry when deriving from --to [33m 3259[2mms[22m[39m
     [33m[2mâœ“[22m[39m persists thinking and verbose overrides [33m 1759[2mms[22m[39m
     [33m[2mâœ“[22m[39m resumes when session-id is provided [33m 1684[2mms[22m[39m
     [33m[2mâœ“[22m[39m does not duplicate agent events from embedded runs [33m 1545[2mms[22m[39m
     [33m[2mâœ“[22m[39m uses provider/model from agents.defaults.model.primary [33m 1303[2mms[22m[39m
     [33m[2mâœ“[22m[39m keeps explicit sessionKey even when sessionId exists elsewhere [33m 2663[2mms[22m[39m
     [33m[2mâœ“[22m[39m derives session key from --agent when no routing target is provided [33m 1245[2mms[22m[39m
     [33m[2mâœ“[22m[39m defaults thinking to low for reasoning-capable models [33m 1805[2mms[22m[39m
     [33m[2mâœ“[22m[39m prints JSON payload when requested [33m 2132[2mms[22m[39m
     [33m[2mâœ“[22m[39m passes the message through as the agent prompt [33m 1968[2mms[22m[39m
     [33m[2mâœ“[22m[39m passes through telegram accountId when delivering [33m 2052[2mms[22m[39m
     [33m[2mâœ“[22m[39m uses reply channel as the message channel context [33m 1766[2mms[22m[39m
     [33m[2mâœ“[22m[39m prefers runContext for embedded routing [33m 3661[2mms[22m[39m
     [33m[2mâœ“[22m[39m forwards accountId to embedded runs [33m 1312[2mms[22m[39m
     [33m[2mâœ“[22m[39m logs output when delivery is disabled [33m 2086[2mms[22m[39m
 [32mâœ“[39m src/agents/sandbox-agent-config.agent-specific-sandbox-config.should-use-agent-specific-workspaceroot.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 10323[2mms[22m[39m
     [33m[2mâœ“[22m[39m should use agent-specific workspaceRoot [33m 4730[2mms[22m[39m
     [33m[2mâœ“[22m[39m should prefer agent config over global for multiple agents [33m 1693[2mms[22m[39m
     [33m[2mâœ“[22m[39m should prefer agent-specific sandbox tool policy [33m 1688[2mms[22m[39m
 [32mâœ“[39m src/discord/monitor.tool-result.accepts-guild-messages-mentionpatterns-match.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 17587[2mms[22m[39m
     [33m[2mâœ“[22m[39m accepts guild messages when mentionPatterns match [33m 17484[2mms[22m[39m
 [32mâœ“[39m extensions/msteams/src/media-helpers.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 67[2mms[22m[39m
 [32mâœ“[39m extensions/msteams/src/polls.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 121[2mms[22m[39m
 [32mâœ“[39m extensions/bluebubbles/src/send.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 167[2mms[22m[39m
 [32mâœ“[39m extensions/bluebubbles/src/actions.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 111[2mms[22m[39m
 [32mâœ“[39m extensions/nostr/src/nostr-profile-http.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 137[2mms[22m[39m
 [32mâœ“[39m extensions/nextcloud-talk/src/monitor.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 191[2mms[22m[39m
Usage: program models auth [options] [command]

Manage model auth profiles

Options:
  --agent <id>                    Agent id for auth order get/set/clear
  -h, --help                      display help for command

Commands:
  add                             Interactive auth helper (setup-token or paste
                                  token)
  login [options]                 Run a provider plugin auth flow (OAuth/API
                                  key)
  setup-token [options]           Run a provider CLI to create/sync a token (TTY
                                  required)
  paste-token [options]           Paste a token into auth-profiles.json and
                                  update config
  login-github-copilot [options]  Login to GitHub Copilot via GitHub device flow
                                  (TTY required)
  order                           Manage per-agent auth profile order overrides
 [32mâœ“[39m src/cli/models-cli.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 18183[2mms[22m[39m
     [33m[2mâœ“[22m[39m registers github-copilot login command [33m 18155[2mms[22m[39m
 [32mâœ“[39m src/commands/onboard-non-interactive.xai.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 24454[2mms[22m[39m
     [33m[2mâœ“[22m[39m stores the API key and configures the default model [33m 24445[2mms[22m[39m
 [32mâœ“[39m src/infra/outbound/message.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 5239[2mms[22m[39m
     [33m[2mâœ“[22m[39m normalizes Teams alias [33m 3996[2mms[22m[39m
     [33m[2mâœ“[22m[39m normalizes iMessage alias [33m 797[2mms[22m[39m
     [33m[2mâœ“[22m[39m normalizes Teams alias for polls [33m 399[2mms[22m[39m
 [32mâœ“[39m extensions/tlon/src/urbit/send.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 100[2mms[22m[39m
[90mstdout[2m | extensions/voice-call/src/media-stream.test.ts[2m > [22m[2mMediaStreamHandler TTS queue[2m > [22m[2mreads Twilio stream auth token from start customParameters
[22m[39m[MediaStream] Stream started: MZ123 (call: CA123)

 [32mâœ“[39m extensions/voice-call/src/media-stream.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [32mâœ“[39m extensions/bluebubbles/src/chat.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 37[2mms[22m[39m
 [32mâœ“[39m src/docker-setup.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 4112[2mms[22m[39m
     [33m[2mâœ“[22m[39m handles unset optional env vars under strict mode [33m 1541[2mms[22m[39m
     [33m[2mâœ“[22m[39m supports a home volume when extra mounts are empty [33m 1021[2mms[22m[39m
     [33m[2mâœ“[22m[39m avoids associative arrays so the script remains Bash 3.2-compatible [33m 779[2mms[22m[39m
     [33m[2mâœ“[22m[39m plumbs OPENCLAW_DOCKER_APT_PACKAGES into .env and docker build args [33m 721[2mms[22m[39m
 [32mâœ“[39m src/hooks/gmail-setup-utils.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 3145[2mms[22m[39m
     [33m[2mâœ“[22m[39m resolves a working python path and caches the result [33m 2451[2mms[22m[39m
 [32mâœ“[39m src/commands/onboard-non-interactive.token.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 20021[2mms[22m[39m
     [33m[2mâœ“[22m[39m writes token profile config and stores the token [33m 20000[2mms[22m[39m
 [32mâœ“[39m extensions/msteams/src/errors.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m extensions/tlon/src/urbit/sse-client.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m extensions/msteams/src/file-consent-helpers.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m extensions/nostr/src/nostr-state-store.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 84[2mms[22m[39m
 [32mâœ“[39m src/signal/monitor.event-handler.typing-read-receipts.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 12966[2mms[22m[39m
     [33m[2mâœ“[22m[39m sends typing + read receipt for allowed DMs [33m 12959[2mms[22m[39m
 [32mâœ“[39m src/signal/monitor.event-handler.sender-prefix.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 13587[2mms[22m[39m
     [33m[2mâœ“[22m[39m prefixes group bodies with sender label [33m 13582[2mms[22m[39m
 [32mâœ“[39m extensions/twitch/src/config.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/agents/sandbox-agent-config.agent-specific-sandbox-config.should-allow-agent-specific-docker-settings-beyond.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 8260[2mms[22m[39m
     [33m[2mâœ“[22m[39m should allow agent-specific docker settings beyond setupCommand [33m 3817[2mms[22m[39m
     [33m[2mâœ“[22m[39m should override with agent-specific sandbox mode 'off' [33m 409[2mms[22m[39m
     [33m[2mâœ“[22m[39m should use agent-specific sandbox mode 'all' [33m 1095[2mms[22m[39m
     [33m[2mâœ“[22m[39m should use agent-specific scope [33m 1780[2mms[22m[39m
 [32mâœ“[39m extensions/msteams/src/polls-store.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 118[2mms[22m[39m
[90mstdout[2m | src/telegram/bot.media.downloads-media-file-path-no-file-download.test.ts[2m > [22m[2mtelegram inbound media[2m > [22m[2mdownloads media via file_path (no file.download)
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

 [32mâœ“[39m extensions/nostr/src/nostr-profile-import.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 58[2mms[22m[39m
 [32mâœ“[39m extensions/msteams/src/messenger.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m src/telegram/bot.media.downloads-media-file-path-no-file-download.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 8710[2mms[22m[39m
     [33m[2mâœ“[22m[39m downloads media via file_path (no file.download) [33m 8496[2mms[22m[39m
 [32mâœ“[39m extensions/diagnostics-otel/src/service.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m src/browser/pw-tools-core.screenshots-element-selector.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 11541[2mms[22m[39m
     [33m[2mâœ“[22m[39m screenshots an element selector [33m 11526[2mms[22m[39m
 [32mâœ“[39m src/config/config.legacy-config-detection.rejects-routing-allowfrom.test.ts [2m([22m[2m33 tests[22m[2m)[22m[33m 4798[2mms[22m[39m
     [33m[2mâœ“[22m[39m migrates top-level memorySearch to agents.defaults.memorySearch [33m 442[2mms[22m[39m
     [33m[2mâœ“[22m[39m merges top-level memorySearch into agents.defaults.memorySearch [33m 364[2mms[22m[39m
     [33m[2mâœ“[22m[39m migrates gateway.token to gateway.auth.token [33m 332[2mms[22m[39m
[90mstdout[2m | extensions/voice-call/src/manager.test.ts[2m > [22m[2mCallManager[2m > [22m[2mupgrades providerCallId mapping when provider ID changes
[22m[39m[voice-call] Starting max duration timer (300s) for call 35c93807-0420-4788-8685-469952ac1820

[90mstdout[2m | extensions/voice-call/src/manager.test.ts[2m > [22m[2mCallManager[2m > [22m[2mspeaks initial message on answered for notify mode (non-Twilio)
[22m[39m[voice-call] Using inline TwiML for notify mode (voice: Polly.Joanna)

[90mstdout[2m | extensions/voice-call/src/manager.test.ts[2m > [22m[2mCallManager[2m > [22m[2mspeaks initial message on answered for notify mode (non-Twilio)
[22m[39m[voice-call] Starting max duration timer (300s) for call 20548f09-0a82-4c93-ba73-dee6818b40c2
[voice-call] Speaking initial message for call 20548f09-0a82-4c93-ba73-dee6818b40c2 (mode: notify)

[90mstdout[2m | extensions/voice-call/src/manager.test.ts[2m > [22m[2mCallManager[2m > [22m[2mspeaks initial message on answered for notify mode (non-Twilio)
[22m[39m[voice-call] Notify mode: auto-hangup in 3s for call 20548f09-0a82-4c93-ba73-dee6818b40c2

[90mstdout[2m | extensions/voice-call/src/manager.test.ts[2m > [22m[2mCallManager[2m > [22m[2mrejects inbound calls with missing caller ID when allowlist enabled
[22m[39m[voice-call] Inbound call rejected: missing caller ID

[90mstdout[2m | extensions/voice-call/src/manager.test.ts[2m > [22m[2mCallManager[2m > [22m[2mrejects inbound calls with anonymous caller ID when allowlist enabled
[22m[39m[voice-call] Inbound call rejected: missing caller ID

[90mstdout[2m | extensions/voice-call/src/manager.test.ts[2m > [22m[2mCallManager[2m > [22m[2mrejects inbound calls that only match allowlist suffixes
[22m[39m[voice-call] Inbound call rejected: +99915550001234 not in allowlist

[90mstdout[2m | extensions/voice-call/src/manager.test.ts[2m > [22m[2mCallManager[2m > [22m[2maccepts inbound calls that exactly match the allowlist
[22m[39m[voice-call] Inbound call accepted: +15550001234 is in allowlist
[voice-call] Created inbound call record: 91b5c848-8b70-4f06-80ec-b1b43690f5a5 from +15550001234

 [32mâœ“[39m extensions/voice-call/src/manager.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m src/browser/pw-tools-core.last-file-chooser-arm-wins.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 1330[2mms[22m[39m
     [33m[2mâœ“[22m[39m last file-chooser arm wins [33m 1324[2mms[22m[39m
 [32mâœ“[39m extensions/googlechat/src/targets.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m extensions/bluebubbles/src/reactions.test.ts [2m([22m[2m46 tests[22m[2m)[22m[32m 20[2mms[22m[39m
[90mstderr[2m | extensions/voice-call/src/webhook-security.test.ts[2m > [22m[2mverifyTwilioWebhook[2m > [22m[2mallows invalid signatures for ngrok free tier only on loopback
[22m[39m[voice-call] Twilio signature validation failed (ngrok free tier compatibility, loopback only)

 [32mâœ“[39m extensions/voice-call/src/webhook-security.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m extensions/twitch/src/twitch-client.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m extensions/msteams/src/policy.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 14[2mms[22m[39m
[90mstdout[2m | src/telegram/bot.test.ts[2m > [22m[2mcreateTelegramBot[2m > [22m[2minstalls grammY throttler
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

 [32mâœ“[39m extensions/twitch/src/status.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/daemon/launchd.test.ts [2m([22m[2m14 tests[22m[2m)[22m[33m 2356[2mms[22m[39m
     [33m[2mâœ“[22m[39m detects the resolved label in launchctl list [33m 369[2mms[22m[39m
     [33m[2mâœ“[22m[39m returns false when the label is missing [33m 380[2mms[22m[39m
     [33m[2mâœ“[22m[39m bootstraps and kickstarts the resolved label [33m 588[2mms[22m[39m
     [33m[2mâœ“[22m[39m enables service before bootstrap (clears persisted disabled state) [33m 1011[2mms[22m[39m
 [32mâœ“[39m src/agents/subagent-announce.format.test.ts [2m([22m[2m14 tests[22m[2m)[22m[33m 3407[2mms[22m[39m
     [33m[2mâœ“[22m[39m sends instructional message to main agent with status and findings [33m 2152[2mms[22m[39m
     [33m[2mâœ“[22m[39m retries reading subagent output when early lifecycle completion had no text [33m 1109[2mms[22m[39m
 [32mâœ“[39m src/telegram/bot.test.ts [2m([22m[2m84 tests[22m[2m)[22m[33m 3626[2mms[22m[39m
 [32mâœ“[39m extensions/matrix/src/matrix/format.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 21[2mms[22m[39m
     [33m[2mâœ“[22m[39m dedupes duplicate message updates by update_id [33m 516[2mms[22m[39m
[90mstdout[2m | src/telegram/bot.media.includes-location-text-ctx-fields-pins.test.ts[2m > [22m[2mtelegram inbound media[2m > [22m[2mincludes location text and ctx fields for pins
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

 [32mâœ“[39m src/telegram/bot.media.includes-location-text-ctx-fields-pins.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 7594[2mms[22m[39m
     [33m[2mâœ“[22m[39m includes location text and ctx fields for pins [33m 7585[2mms[22m[39m
 [32mâœ“[39m extensions/nostr/src/nostr-bus.integration.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/commands/doctor.migrates-routing-allowfrom-channels-whatsapp-allowfrom.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 5053[2mms[22m[39m
     [33m[2mâœ“[22m[39m migrates routing.allowFrom to channels.whatsapp.allowFrom [33m 4814[2mms[22m[39m
 [32mâœ“[39m extensions/googlechat/src/api.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m extensions/bluebubbles/src/targets.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m extensions/nostr/src/channel.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 83[2mms[22m[39m
 [32mâœ“[39m extensions/tlon/src/config-schema.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32mâœ“[39m extensions/bluebubbles/src/attachments.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 54[2mms[22m[39m
 [32mâœ“[39m src/agents/sandbox-skills.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 3993[2mms[22m[39m
     [33m[2mâœ“[22m[39m copies skills into the sandbox when workspaceAccess is ro [33m 3297[2mms[22m[39m
     [33m[2mâœ“[22m[39m copies skills into the sandbox when workspaceAccess is none [33m 691[2mms[22m[39m
 [32mâœ“[39m extensions/mattermost/src/channel.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m extensions/msteams/src/inbound.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/media-understanding/apply.test.ts [2m([22m[2m22 tests[22m[2m)[22m[33m 3641[2mms[22m[39m
     [33m[2mâœ“[22m[39m sets Transcript and replaces Body when audio transcription succeeds [33m 3346[2mms[22m[39m
 [32mâœ“[39m extensions/twitch/src/outbound.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m extensions/matrix/src/matrix/poll-types.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m extensions/matrix/src/resolve-targets.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
[90mstdout[2m | src/cron/isolated-agent.skips-delivery-without-whatsapp-recipient-besteffortdeliver-true.test.ts[2m > [22m[2mrunCronIsolatedAgentTurn[2m > [22m[2mignores shared announce flow failures when best-effort is enabled
[22m[39m[cron:job-1] cron announce delivery failed

 [32mâœ“[39m src/cron/isolated-agent.skips-delivery-without-whatsapp-recipient-besteffortdeliver-true.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 6883[2mms[22m[39m
     [33m[2mâœ“[22m[39m announces via shared subagent flow when delivery is requested [33m 2422[2mms[22m[39m
     [33m[2mâœ“[22m[39m passes final payload text into shared subagent announce flow [33m 922[2mms[22m[39m
     [33m[2mâœ“[22m[39m passes resolved threadId into shared subagent announce flow [33m 937[2mms[22m[39m
     [33m[2mâœ“[22m[39m skips announce when messaging tool already sent to target [33m 910[2mms[22m[39m
     [33m[2mâœ“[22m[39m skips announce for heartbeat-only output [33m 426[2mms[22m[39m
     [33m[2mâœ“[22m[39m fails when shared announce flow fails and best-effort is disabled [33m 470[2mms[22m[39m
     [33m[2mâœ“[22m[39m ignores shared announce flow failures when best-effort is enabled [33m 760[2mms[22m[39m
 [32mâœ“[39m src/commands/models.list.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 7013[2mms[22m[39m
     [33m[2mâœ“[22m[39m models status resolves z.ai alias to canonical zai [33m 6991[2mms[22m[39m
[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mcompresses common formats to jpeg under the cap
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mcompresses common formats to jpeg under the cap
[22m[39m[35m[whatsapp][39m [36mInbound message +1 -> +2 (undefined, 30 chars)[39m

 [32mâœ“[39m src/agents/sandbox.resolveSandboxContext.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 1585[2mms[22m[39m
     [33m[2mâœ“[22m[39m does not sandbox the agent main session in non-main mode [33m 1332[2mms[22m[39m
 [32mâœ“[39m src/config/config.identity-defaults.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 1367[2mms[22m[39m
[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mcompresses common formats to jpeg under the cap
[22m[39m[35m[whatsapp][39m [36mSent media reply to +1 (0.74MB)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mcompresses common formats to jpeg under the cap
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1 (media)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mcompresses common formats to jpeg under the cap
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mcompresses common formats to jpeg under the cap
[22m[39m[35m[whatsapp][39m [36mInbound message +1 -> +2 (undefined, 30 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mcompresses common formats to jpeg under the cap
[22m[39m[35m[whatsapp][39m [36mSent media reply to +1 (0.69MB)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mcompresses common formats to jpeg under the cap
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1 (media)[39m

 [32mâœ“[39m extensions/twitch/src/send.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 8[2mms[22m[39m
[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mcompresses common formats to jpeg under the cap
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mcompresses common formats to jpeg under the cap
[22m[39m[35m[whatsapp][39m [36mInbound message +1 -> +2 (undefined, 30 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mcompresses common formats to jpeg under the cap
[22m[39m[35m[whatsapp][39m [36mSent media reply to +1 (0.69MB)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mcompresses common formats to jpeg under the cap
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1 (media)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mhonors mediaMaxMb from config
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mhonors mediaMaxMb from config
[22m[39m[35m[whatsapp][39m [36mInbound message +1 -> +2 (undefined, 30 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mhonors mediaMaxMb from config
[22m[39m[35m[whatsapp][39m [36mSent media reply to +1 (0.01MB)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mhonors mediaMaxMb from config
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1 (media)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mfalls back to text when media is unsupported
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mfalls back to text when media is unsupported
[22m[39m[35m[whatsapp][39m [36mInbound message +1 -> +2 (undefined, 19 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mfalls back to text when media is unsupported
[22m[39m[35m[whatsapp][39m [36mSent media reply to +1 (0.01MB)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mfalls back to text when media is unsupported
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1 (media)[39m

 [32mâœ“[39m src/web/auto-reply.web-auto-reply.compresses-common-formats-jpeg-cap.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 2932[2mms[22m[39m
     [33m[2mâœ“[22m[39m compresses common formats to jpeg under the cap [33m 2500[2mms[22m[39m
     [33m[2mâœ“[22m[39m honors mediaMaxMb from config [33m 365[2mms[22m[39m
 [32mâœ“[39m src/agents/bash-tools.test.ts [2m([22m[2m17 tests[22m[2m)[22m[33m 1613[2mms[22m[39m
     [33m[2mâœ“[22m[39m uses default timeout when timeout is omitted [33m 1036[2mms[22m[39m
 [32mâœ“[39m src/commands/doctor.runs-legacy-state-migrations-yes-mode-without.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 4204[2mms[22m[39m
     [33m[2mâœ“[22m[39m runs legacy state migrations in yes mode without prompting [33m 3896[2mms[22m[39m
[90mstdout[2m | src/agents/bash-tools.exec.approval-id.test.ts[2m > [22m[2mexec approvals[2m > [22m[2mhonors ask=off for elevated gateway exec without prompting
[22m[39m[32m[exec][39m [36melevated command echo ok[39m

[90mstdout[2m | src/agents/bash-tools.exec.approval-id.test.ts[2m > [22m[2mexec approvals[2m > [22m[2mrequires approval for elevated ask when allowlist misses
[22m[39m[32m[exec][39m [36melevated command echo ok[39m

 [32mâœ“[39m src/agents/bash-tools.exec.approval-id.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 4276[2mms[22m[39m
     [33m[2mâœ“[22m[39m honors ask=off for elevated gateway exec without prompting [33m 4217[2mms[22m[39m
 [32mâœ“[39m extensions/matrix/src/matrix/monitor/rooms.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m extensions/line/src/channel.sendPayload.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32mâœ“[39m extensions/googlechat/src/monitor.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m extensions/zalo/src/channel.directory.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m extensions/msteams/src/channel.directory.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/agents/skills-install.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 3623[2mms[22m[39m
     [33m[2mâœ“[22m[39m blocks install when critical findings are present [33m 451[2mms[22m[39m
     [33m[2mâœ“[22m[39m allows critical findings only when explicitly overridden [33m 619[2mms[22m[39m
     [33m[2mâœ“[22m[39m blocks install when skill scan fails [33m 438[2mms[22m[39m
     [33m[2mâœ“[22m[39m allows skill scan failure only when explicitly overridden [33m 449[2mms[22m[39m
     [33m[2mâœ“[22m[39m blocks unsafe archive paths before extraction [33m 434[2mms[22m[39m
     [33m[2mâœ“[22m[39m blocks tar link/device entry types before extraction [33m 516[2mms[22m[39m
     [33m[2mâœ“[22m[39m runs npm installs with ignore-scripts and scrubbed env by default [33m 485[2mms[22m[39m
 [32mâœ“[39m src/browser/screenshot.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 1947[2mms[22m[39m
     [33m[2mâœ“[22m[39m shrinks oversized images to <=2000x2000 and <=5MB [33m 1927[2mms[22m[39m
 [32mâœ“[39m src/web/media.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 1780[2mms[22m[39m
     [33m[2mâœ“[22m[39m compresses large local images under the provided cap [33m 338[2mms[22m[39m
     [33m[2mâœ“[22m[39m falls back to JPEG when PNG alpha cannot fit under cap [33m 1364[2mms[22m[39m
 [32mâœ“[39m extensions/zalouser/src/status-issues.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mâœ“[39m extensions/matrix/src/matrix/monitor/media.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m extensions/matrix/src/matrix/monitor/allowlist.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m extensions/nextcloud-talk/src/policy.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m extensions/voice-call/src/config.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 16[2mms[22m[39m
[90mstdout[2m | src/web/auto-reply.web-auto-reply.reconnects-after-connection-close.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mreconnects after a connection close
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.reconnects-after-connection-close.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mreconnects after a connection close
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.reconnects-after-connection-close.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mforces reconnect when watchdog closes without onClose
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.reconnects-after-connection-close.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mforces reconnect when watchdog closes without onClose
[22m[39m[35m[whatsapp][39m [36mInbound message +1 -> +2 (undefined, 16 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.reconnects-after-connection-close.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mforces reconnect when watchdog closes without onClose
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1[39m

 [32mâœ“[39m extensions/twitch/src/access-control.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m src/commands/doctor.warns-state-directory-is-missing.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 3950[2mms[22m[39m
     [33m[2mâœ“[22m[39m warns when the state directory is missing [33m 3902[2mms[22m[39m
 [32mâœ“[39m src/cli/daemon-cli.coverage.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 2839[2mms[22m[39m
     [33m[2mâœ“[22m[39m probes gateway status by default [33m 2373[2mms[22m[39m
 [32mâœ“[39m extensions/msteams/src/sent-message-cache.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/discord/monitor.slash.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 7716[2mms[22m[39m
     [33m[2mâœ“[22m[39m skips tool results for native slash commands [33m 7709[2mms[22m[39m
 [32mâœ“[39m extensions/voice-call/src/providers/twilio.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 14[2mms[22m[39m
[90mstderr[2m | src/web/auto-reply.web-auto-reply.reconnects-after-connection-close.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mforces reconnect when watchdog closes without onClose
[22m[39m[35m[whatsapp][39m [33mNo messages received in 31m - restarting connection[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.reconnects-after-connection-close.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mforces reconnect when watchdog closes without onClose
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.reconnects-after-connection-close.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mstops after hitting max reconnect attempts
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.reconnects-after-connection-close.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mstops after hitting max reconnect attempts
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.reconnects-after-connection-close.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mprocesses inbound messages without batching and preserves timestamps
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.reconnects-after-connection-close.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mprocesses inbound messages without batching and preserves timestamps
[22m[39m[35m[whatsapp][39m [36mInbound message +1 -> +2 (undefined, 52 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.reconnects-after-connection-close.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mprocesses inbound messages without batching and preserves timestamps
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.reconnects-after-connection-close.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mprocesses inbound messages without batching and preserves timestamps
[22m[39m[35m[whatsapp][39m [36mInbound message +1 -> +2 (undefined, 53 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.reconnects-after-connection-close.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mprocesses inbound messages without batching and preserves timestamps
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1[39m

 [32mâœ“[39m src/web/auto-reply.web-auto-reply.reconnects-after-connection-close.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 6828[2mms[22m[39m
     [33m[2mâœ“[22m[39m forces reconnect when watchdog closes without onClose [33m 6161[2mms[22m[39m
     [33m[2mâœ“[22m[39m processes inbound messages without batching and preserves timestamps [33m 497[2mms[22m[39m
 [32mâœ“[39m extensions/voice-call/src/providers/plivo.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m extensions/twitch/src/token.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply.queue.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 3720[2mms[22m[39m
     [33m[2mâœ“[22m[39m collects queued messages and drains after run completes [33m 1950[2mms[22m[39m
     [33m[2mâœ“[22m[39m summarizes dropped followups when cap is exceeded [33m 1722[2mms[22m[39m
 [32mâœ“[39m src/cron/service.every-jobs-fire.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 368[2mms[22m[39m
 [32mâœ“[39m src/config/config.plugin-validation.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 1911[2mms[22m[39m
     [33m[2mâœ“[22m[39m rejects missing plugin load paths [33m 370[2mms[22m[39m
     [33m[2mâœ“[22m[39m rejects missing plugin ids in entries [33m 397[2mms[22m[39m
 [32mâœ“[39m extensions/tlon/src/monitor/processed-messages.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/commands/doctor.warns-per-agent-sandbox-docker-browser-prune.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 2335[2mms[22m[39m
     [33m[2mâœ“[22m[39m warns when per-agent sandbox docker/browser/prune overrides are ignored under shared scope [33m 2314[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply.block-streaming.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 2459[2mms[22m[39m
     [33m[2mâœ“[22m[39m waits for block replies before returning final payloads [33m 1000[2mms[22m[39m
     [33m[2mâœ“[22m[39m preserves block reply ordering when typing start is slow [33m 357[2mms[22m[39m
     [33m[2mâœ“[22m[39m drops final payloads when block replies streamed [33m 396[2mms[22m[39m
     [33m[2mâœ“[22m[39m falls back to final payloads when block reply send times out [33m 324[2mms[22m[39m
     [33m[2mâœ“[22m[39m does not enable block streaming for telegram streamMode block [33m 377[2mms[22m[39m
 [32mâœ“[39m src/cron/service.issue-regressions.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 988[2mms[22m[39m
     [33m[2mâœ“[22m[39m skips forced manual runs while a timer-triggered run is in progress [33m 590[2mms[22m[39m
[90mstdout[2m | src/signal/monitor.tool-result.pairs-uuid-only-senders-uuid-allowlist-entry.test.ts[2m > [22m[2mmonitorSignalProvider tool results[2m > [22m[2mreconnects after stream errors until aborted
[22m[39mSignal SSE connection lost, reconnecting in 1s...

[90mstderr[2m | src/signal/monitor.tool-result.pairs-uuid-only-senders-uuid-allowlist-entry.test.ts[2m > [22m[2mmonitorSignalProvider tool results[2m > [22m[2mreconnects after stream errors until aborted
[22m[39mSignal SSE stream error: Error: stream dropped

 [32mâœ“[39m src/signal/monitor.tool-result.pairs-uuid-only-senders-uuid-allowlist-entry.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 1063[2mms[22m[39m
     [33m[2mâœ“[22m[39m reconnects after stream errors until aborted [33m 1040[2mms[22m[39m
 [32mâœ“[39m src/browser/pw-ai.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 158[2mms[22m[39m
 [32mâœ“[39m extensions/zalouser/src/channel.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply.raw-body.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 1947[2mms[22m[39m
     [33m[2mâœ“[22m[39m /model, /think, /verbose directives detected from RawBody even when Body has structural wrapper [33m 651[2mms[22m[39m
     [33m[2mâœ“[22m[39m /model status detected from RawBody [33m 416[2mms[22m[39m
     [33m[2mâœ“[22m[39m preserves history when RawBody is provided for command parsing [33m 401[2mms[22m[39m
 [32mâœ“[39m src/security/audit.test.ts [2m([22m[2m44 tests[22m[2m)[22m[33m 1294[2mms[22m[39m
     [33m[2mâœ“[22m[39m flags plugins with dangerous code patterns (deep audit) [33m 391[2mms[22m[39m
 [32mâœ“[39m src/commands/doctor.falls-back-legacy-sandbox-image-missing.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 1666[2mms[22m[39m
     [33m[2mâœ“[22m[39m runs legacy state migrations in non-interactive mode without prompting [33m 1664[2mms[22m[39m
[90mstderr[2m | src/memory/manager.batch.test.ts[2m > [22m[2mmemory indexing with OpenAI batches[2m > [22m[2mfalls back to non-batch on failure and resets failures after success
[22m[39m[31m[memory][39m [33membeddings: openai batch failed (1/2); keeping batch enabled; falling back to non-batch embeddings: openai batch create failed: 500 batch failed[39m

 [32mâœ“[39m extensions/twitch/src/plugin.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 18[2mms[22m[39m
[90mstderr[2m | src/memory/manager.batch.test.ts[2m > [22m[2mmemory indexing with OpenAI batches[2m > [22m[2mdisables batch after repeated failures and skips batch thereafter
[22m[39m[31m[memory][39m [33membeddings: openai batch failed (1/2); keeping batch enabled; falling back to non-batch embeddings: openai batch create failed: 500 batch failed[39m

 [32mâœ“[39m src/memory/index.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 1575[2mms[22m[39m
     [33m[2mâœ“[22m[39m indexes memory files and searches by vector [33m 451[2mms[22m[39m
[90mstderr[2m | src/memory/manager.batch.test.ts[2m > [22m[2mmemory indexing with OpenAI batches[2m > [22m[2mdisables batch after repeated failures and skips batch thereafter
[22m[39m[31m[memory][39m [33membeddings: openai batch failed (2/2); disabling batch; falling back to non-batch embeddings: openai batch create failed: 500 batch failed[39m

 [32mâœ“[39m src/memory/manager.batch.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 835[2mms[22m[39m
     [33m[2mâœ“[22m[39m disables batch after repeated failures and skips batch thereafter [33m 320[2mms[22m[39m
 [32mâœ“[39m extensions/matrix/src/matrix/client.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 14[2mms[22m[39m
[90mstdout[2m | src/canvas-host/server.test.ts[2m > [22m[2mcanvas host[2m > [22m[2mcreates a default index.html when missing
[22m[39mcanvas host listening on http://127.0.0.1:60000 (root /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-canvas-hzQmep)

 [32mâœ“[39m extensions/matrix/src/matrix/accounts.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 15[2mms[22m[39m
[90mstdout[2m | src/canvas-host/server.test.ts[2m > [22m[2mcanvas host[2m > [22m[2menforces bearer auth when authToken is configured
[22m[39mcanvas host listening on http://127.0.0.1:60002 (root /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-canvas-PrQBaC)

[90mstdout[2m | src/canvas-host/server.test.ts[2m > [22m[2mcanvas host[2m > [22m[2mskips live reload injection when disabled
[22m[39mcanvas host listening on http://127.0.0.1:60005 (root /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-canvas-z8Q8JY)

[90mstdout[2m | src/canvas-host/server.test.ts[2m > [22m[2mcanvas host[2m > [22m[2mreuses a handler without closing it twice
[22m[39mcanvas host listening on http://127.0.0.1:60011 (root /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-canvas-jf4TGx)

[90mstdout[2m | src/canvas-host/server.test.ts[2m > [22m[2mcanvas host[2m > [22m[2mserves HTML with injection and broadcasts reload on file changes
[22m[39mcanvas host listening on http://127.0.0.1:60012 (root /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-canvas-OgOCWV)

[90mstdout[2m | src/canvas-host/server.test.ts[2m > [22m[2mcanvas host[2m > [22m[2mserves the gateway-hosted A2UI scaffold
[22m[39mcanvas host listening on http://127.0.0.1:60015 (root /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-canvas-nYwFz1)

 [32mâœ“[39m src/canvas-host/server.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 868[2mms[22m[39m
     [33m[2mâœ“[22m[39m serves HTML with injection and broadcasts reload on file changes [33m 371[2mms[22m[39m
     [33m[2mâœ“[22m[39m serves the gateway-hosted A2UI scaffold [33m 357[2mms[22m[39m
 [32mâœ“[39m src/commands/sandbox-explain.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 1338[2mms[22m[39m
     [33m[2mâœ“[22m[39m prints JSON shape + fix-it keys [33m 1336[2mms[22m[39m
[90mstderr[2m | src/plugins/loader.test.ts[2m > [22m[2mloadOpenClawPlugins[2m > [22m[2mfails fast on invalid plugin config
[22m[39m[35m[plugins][39m [31mconfigurable invalid config: <root>: must be object[39m

 [32mâœ“[39m extensions/matrix/src/channel.directory.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 14[2mms[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Tests 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m extensions/lobster/src/lobster-tool.test.ts[2m > [22mlobster plugin tool[2m > [22mruns lobster and returns parsed envelope in details
[31m[1mError[22m: lobster subprocess timed out[39m
[36m [2mâ¯[22m Timeout._onTimeout extensions/lobster/src/lobster-tool.ts:[2m139:16[22m[39m
    [90m137| [39m        child[33m.[39m[34mkill[39m([32m"SIGKILL"[39m)[33m;[39m
    [90m138| [39m      } [35mfinally[39m {
    [90m139| [39m        [34mreject[39m([35mnew[39m [33mError[39m([32m"lobster subprocess timed out"[39m))[33m;[39m
    [90m   | [39m               [31m^[39m
    [90m140| [39m      }
    [90m141| [39m    }[33m,[39m timeoutMs)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/1]âŽ¯[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m77 passed[39m[22m[90m (78)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m914 passed[39m[22m[2m | [22m[33m1 skipped[39m[90m (916)[39m
[2m   Start at [22m 15:34:51
[2m   Duration [22m 210.77s[2m (transform 166.27s, setup 337.86s, import 690.59s, tests 165.13s, environment 10ms)[22m

 [32mâœ“[39m src/agents/sandbox-agent-config.agent-specific-sandbox-config.includes-session-status-default-sandbox-allowlist.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 1400[2mms[22m[39m
     [33m[2mâœ“[22m[39m includes session_status in default sandbox allowlist [33m 1397[2mms[22m[39m
 [32mâœ“[39m src/plugins/loader.test.ts [2m([22m[2m14 tests[22m[2m)[22m[33m 728[2mms[22m[39m
     [33m[2mâœ“[22m[39m disables bundled plugins by default [33m 421[2mms[22m[39m
 [32mâœ“[39m src/agents/sandbox-merge.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 1380[2mms[22m[39m
     [33m[2mâœ“[22m[39m resolves sandbox scope deterministically [33m 1375[2mms[22m[39m
 [32mâœ“[39m src/agents/skills.buildworkspaceskillstatus.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 1150[2mms[22m[39m
     [33m[2mâœ“[22m[39m reports missing requirements and install options [33m 501[2mms[22m[39m
     [33m[2mâœ“[22m[39m respects OS-gated skills [33m 331[2mms[22m[39m
 [32mâœ“[39m src/commands/agent.delivery.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 1590[2mms[22m[39m
     [33m[2mâœ“[22m[39m prefers explicit accountId for outbound delivery [33m 1585[2mms[22m[39m
 [32mâœ“[39m src/infra/heartbeat-runner.returns-default-unset.test.ts [2m([22m[2m32 tests[22m[2m)[22m[33m 316[2mms[22m[39m
 [32mâœ“[39m src/hooks/install.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 826[2mms[22m[39m
     [33m[2mâœ“[22m[39m installs hook packs from zip archives [33m 306[2mms[22m[39m
 [32mâœ“[39m src/infra/control-ui-assets.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 288[2mms[22m[39m
 [32mâœ“[39m src/agents/bash-tools.exec.background-abort.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 767[2mms[22m[39m
 [32mâœ“[39m src/cron/isolated-agent.delivers-response-has-heartbeat-ok-but-includes.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 1640[2mms[22m[39m
     [33m[2mâœ“[22m[39m delivers when response has HEARTBEAT_OK but includes media [33m 943[2mms[22m[39m
     [33m[2mâœ“[22m[39m uses shared announce flow when heartbeat ack padding exceeds configured limit [33m 687[2mms[22m[39m
[90mstderr[2m | src/memory/manager.embedding-batches.test.ts[2m > [22m[2mmemory embedding batches[2m > [22m[2mretries embeddings on rate limit errors
[22m[39m[31m[memory][39m [33membeddings rate limited; retrying in 572ms[39m

[90mstderr[2m | src/memory/manager.embedding-batches.test.ts[2m > [22m[2mmemory embedding batches[2m > [22m[2mretries embeddings on rate limit errors
[22m[39m[31m[memory][39m [33membeddings rate limited; retrying in 1080ms[39m

[90mstderr[2m | src/memory/manager.embedding-batches.test.ts[2m > [22m[2mmemory embedding batches[2m > [22m[2mretries embeddings on transient 5xx errors
[22m[39m[31m[memory][39m [33membeddings rate limited; retrying in 590ms[39m

[90mstderr[2m | src/memory/manager.embedding-batches.test.ts[2m > [22m[2mmemory embedding batches[2m > [22m[2mretries embeddings on transient 5xx errors
[22m[39m[31m[memory][39m [33membeddings rate limited; retrying in 1170ms[39m

 [32mâœ“[39m src/memory/manager.embedding-batches.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 1378[2mms[22m[39m
     [33m[2mâœ“[22m[39m splits large files across multiple embedding batches [33m 555[2mms[22m[39m
 [32mâœ“[39m src/cron/service.runs-one-shot-main-job-disables-it.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 522[2mms[22m[39m
 [32mâœ“[39m src/infra/tailscale.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 2152[2mms[22m[39m
     [33m[2mâœ“[22m[39m enableTailscaleServe attempts normal first, then sudo [33m 1130[2mms[22m[39m
 [32mâœ“[39m src/cli/update-cli.test.ts [2m([22m[2m21 tests[22m[2m)[22m[33m 1405[2mms[22m[39m
     [33m[2mâœ“[22m[39m exports updateCommand and registerUpdateCli [33m 861[2mms[22m[39m
 [32mâœ“[39m src/agents/skills.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 2040[2mms[22m[39m
     [33m[2mâœ“[22m[39m includes tool-dispatch metadata from frontmatter [33m 381[2mms[22m[39m
     [33m[2mâœ“[22m[39m loads skills from workspace skills/ [33m 316[2mms[22m[39m
     [33m[2mâœ“[22m[39m applies env overrides from snapshots [33m 531[2mms[22m[39m
 [32mâœ“[39m src/cli/program.smoke.test.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 2475[2mms[22m[39m
     [33m[2mâœ“[22m[39m passes auth api keys to onboard [33m 381[2mms[22m[39m
     [33m[2mâœ“[22m[39m runs channels login [33m 1117[2mms[22m[39m
 [32mâœ“[39m src/cli/program/register.subclis.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 1531[2mms[22m[39m
     [33m[2mâœ“[22m[39m replaces placeholder when registering a subcommand by name [33m 1369[2mms[22m[39m
 [32mâœ“[39m src/agents/skills.build-workspace-skills-prompt.prefers-workspace-skills-managed-skills.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 1392[2mms[22m[39m
     [33m[2mâœ“[22m[39m gates by bins, config, and always [33m 812[2mms[22m[39m
     [33m[2mâœ“[22m[39m uses skillKey for config lookups [33m 477[2mms[22m[39m
 [32mâœ“[39m src/daemon/schtasks.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 137[2mms[22m[39m
[90mstdout[2m | src/agents/skills.build-workspace-skills-prompt.syncs-merged-skills-into-target-workspace.test.ts[2m > [22m[2mbuildWorkspaceSkillsPrompt[2m > [22m[2mapplies skill filters, including empty lists
[22m[39m[skills] Applying skill filter: alpha
[skills] After filter: alpha
[skills] Applying skill filter: (none)
[skills] After filter: 

 [32mâœ“[39m src/agents/skills.build-workspace-skills-prompt.syncs-merged-skills-into-target-workspace.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 1517[2mms[22m[39m
     [33m[2mâœ“[22m[39m filters skills based on env/config gates [33m 678[2mms[22m[39m
     [33m[2mâœ“[22m[39m applies skill filters, including empty lists [33m 552[2mms[22m[39m
[90mstdout[2m | src/web/auto-reply.partial-reply-gating.test.ts[2m > [22m[2mpartial reply gating[2m > [22m[2mdoes not send partial replies for WhatsApp provider
[22m[39m[35m[whatsapp][39m [36mInbound message +1000 -> +2000 (direct, 47 chars)[39m

[90mstdout[2m | src/web/auto-reply.partial-reply-gating.test.ts[2m > [22m[2mpartial reply gating[2m > [22m[2mdoes not send partial replies for WhatsApp provider
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1000[39m

[90mstdout[2m | src/web/auto-reply.partial-reply-gating.test.ts[2m > [22m[2mpartial reply gating[2m > [22m[2mdoes not send partial replies for WhatsApp provider
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.partial-reply-gating.test.ts[2m > [22m[2mpartial reply gating[2m > [22m[2mfalls back from empty senderJid to senderE164 for SenderId
[22m[39m[35m[whatsapp][39m [36mInbound message +1000 -> +2000 (direct, 47 chars)[39m

[90mstdout[2m | src/web/auto-reply.partial-reply-gating.test.ts[2m > [22m[2mpartial reply gating[2m > [22m[2mfalls back from empty senderJid to senderE164 for SenderId
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1000[39m

[90mstdout[2m | src/web/auto-reply.partial-reply-gating.test.ts[2m > [22m[2mpartial reply gating[2m > [22m[2mfalls back from empty senderJid to senderE164 for SenderId
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.partial-reply-gating.test.ts[2m > [22m[2mpartial reply gating[2m > [22m[2mupdates last-route for direct chats without senderE164
[22m[39m[35m[whatsapp][39m [36mInbound message +1000 -> +2000 (direct, 51 chars)[39m

[90mstdout[2m | src/web/auto-reply.partial-reply-gating.test.ts[2m > [22m[2mpartial reply gating[2m > [22m[2mupdates last-route for direct chats without senderE164
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

 [32mâœ“[39m src/commands/doctor-state-migrations.test.ts [2m([22m[2m21 tests[22m[2m)[22m[33m 579[2mms[22m[39m
[90mstdout[2m | src/web/auto-reply.partial-reply-gating.test.ts[2m > [22m[2mpartial reply gating[2m > [22m[2mupdates last-route for group chats with account id
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

 [32mâœ“[39m src/auto-reply/skill-commands.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 835[2mms[22m[39m
     [33m[2mâœ“[22m[39m merges command names across agents and de-duplicates [33m 830[2mms[22m[39m
 [32mâœ“[39m src/web/auto-reply.partial-reply-gating.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 1343[2mms[22m[39m
     [33m[2mâœ“[22m[39m defaults to self-only when no config is present [33m 851[2mms[22m[39m
 [32mâœ“[39m src/browser/pw-tools-core.waits-next-download-saves-it.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 1830[2mms[22m[39m
     [33m[2mâœ“[22m[39m waits for the next download and saves it [33m 1823[2mms[22m[39m
 [32mâœ“[39m src/plugins/install.signed.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 408[2mms[22m[39m
 [31mâ¯[39m src/wizard/onboarding.test.ts [2m([22m[2m5 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 201560[2mms[22m[39m
     [32mâœ“[39m exits when config is invalid[32m 21[2mms[22m[39m
[31m     [31mÃ—[31m skips prompts and setup steps when flags are set[39m[33m 198988[2mms[22m[39m
     [33m[2mâœ“[22m[39m launches TUI without auto-delivery when hatching [33m 2175[2mms[22m[39m
     [32mâœ“[39m offers TUI hatch even without BOOTSTRAP.md[32m 235[2mms[22m[39m
     [32mâœ“[39m shows the web search hint at the end of onboarding[32m 81[2mms[22m[39m
 [32mâœ“[39m src/cli/skills-cli.test.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 1883[2mms[22m[39m
       [33m[2mâœ“[22m[39m loads bundled skills and formats them [33m 871[2mms[22m[39m
       [33m[2mâœ“[22m[39m formats info for a real bundled skill (peekaboo) [33m 989[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/agent-runner.memory-flush.runreplyagent-memory-flush.increments-compaction-count-flush-compaction-completes.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 35[2mms[22m[39m
[90mstdout[2m | src/browser/server.agent-contract-form-layout-act-commands.test.ts[2m > [22m[2mbrowser control server[2m > [22m[2magent contract: form + layout act commands
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60049/[39m

[90mstdout[2m | src/browser/server.agent-contract-form-layout-act-commands.test.ts[2m > [22m[2mbrowser control server[2m > [22m[2mblocks act:evaluate when browser.evaluateEnabled=false
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60054/[39m

[90mstdout[2m | src/browser/server.agent-contract-form-layout-act-commands.test.ts[2m > [22m[2mbrowser control server[2m > [22m[2magent contract: hooks + response + downloads + screenshot
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60057/[39m

[90mstdout[2m | src/browser/server.agent-contract-form-layout-act-commands.test.ts[2m > [22m[2mbrowser control server[2m > [22m[2magent contract: stop endpoint
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60060/[39m

 [32mâœ“[39m src/browser/server.agent-contract-form-layout-act-commands.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 1045[2mms[22m[39m
     [33m[2mâœ“[22m[39m agent contract: form + layout act commands [33m 967[2mms[22m[39m
 [32mâœ“[39m src/infra/transport-ready.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 546[2mms[22m[39m
     [33m[2mâœ“[22m[39m returns when the check succeeds and logs after the delay [33m 327[2mms[22m[39m
 [32mâœ“[39m src/config/config.backup-rotation.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 92[2mms[22m[39m
 [32mâœ“[39m src/config/config.pruning-defaults.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 485[2mms[22m[39m
[90mstdout[2m | src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mbroadcasts sequentially in configured order
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mprefixes body with same-phone marker when from === to
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mprefixes body with same-phone marker when from === to
[22m[39m[35m[whatsapp][39m [36mInbound message +1555 -> +1555 (undefined, 35 chars)[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mbroadcasts sequentially in configured order
[22m[39m[35m[whatsapp][39m [36mBroadcasting message to 2 agents (sequential)[39m
[35m[whatsapp][39m [36mInbound message +1000 -> +2000 (direct, 47 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mprefixes body with same-phone marker when from === to
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1555[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mbroadcasts sequentially in configured order
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1000[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mbroadcasts sequentially in configured order
[22m[39m[35m[whatsapp][39m [36mInbound message +1000 -> +2000 (direct, 47 chars)[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mbroadcasts sequentially in configured order
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1000[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdoes not prefix body when from !== to
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdoes not prefix body when from !== to
[22m[39m[35m[whatsapp][39m [36mInbound message +1555 -> +2666 (undefined, 22 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdoes not prefix body when from !== to
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1555[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mshares group history across broadcast agents and clears after replying
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mshares group history across broadcast agents and clears after replying
[22m[39m[35m[whatsapp][39m [36mBroadcasting message to 2 agents (sequential)[39m
[35m[whatsapp][39m [36mInbound message 123@g.us -> +2 (group, 176 chars)[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mshares group history across broadcast agents and clears after replying
[22m[39m[35m[whatsapp][39m [36mAuto-replied to 123@g.us[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mshares group history across broadcast agents and clears after replying
[22m[39m[35m[whatsapp][39m [36mInbound message 123@g.us -> +2 (group, 176 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mforwards reply-to context to resolver
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mshares group history across broadcast agents and clears after replying
[22m[39m[35m[whatsapp][39m [36mAuto-replied to 123@g.us[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mforwards reply-to context to resolver
[22m[39m[35m[whatsapp][39m [36mInbound message +1555 -> +2666 (undefined, 70 chars)[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mshares group history across broadcast agents and clears after replying
[22m[39m[35m[whatsapp][39m [36mBroadcasting message to 2 agents (sequential)[39m
[35m[whatsapp][39m [36mInbound message 123@g.us -> +2 (group, 45 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mforwards reply-to context to resolver
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1555[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mshares group history across broadcast agents and clears after replying
[22m[39m[35m[whatsapp][39m [36mAuto-replied to 123@g.us[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mshares group history across broadcast agents and clears after replying
[22m[39m[35m[whatsapp][39m [36mInbound message 123@g.us -> +2 (group, 45 chars)[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mshares group history across broadcast agents and clears after replying
[22m[39m[35m[whatsapp][39m [36mAuto-replied to 123@g.us[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mapplies responsePrefix to regular replies
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mapplies responsePrefix to regular replies
[22m[39m[35m[whatsapp][39m [36mInbound message +1555 -> +2666 (undefined, 19 chars)[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mbroadcasts in parallel by default
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mapplies responsePrefix to regular replies
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1555[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mbroadcasts in parallel by default
[22m[39m[35m[whatsapp][39m [36mBroadcasting message to 2 agents (parallel)[39m
[35m[whatsapp][39m [36mInbound message +1000 -> +2000 (direct, 47 chars)[39m
[35m[whatsapp][39m [36mInbound message +1000 -> +2000 (direct, 47 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mapplies channel responsePrefix override to replies
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mapplies channel responsePrefix override to replies
[22m[39m[35m[whatsapp][39m [36mInbound message +1555 -> +2666 (undefined, 19 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mapplies channel responsePrefix override to replies
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1555[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdefaults responsePrefix for self-chat replies when unset
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mbroadcasts in parallel by default
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1000[39m
[35m[whatsapp][39m [36mAuto-replied to +1000[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdefaults responsePrefix for self-chat replies when unset
[22m[39m[35m[whatsapp][39m [36mInbound message +1555 -> +1555 (direct, 19 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdefaults responsePrefix for self-chat replies when unset
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1555[39m

 [32mâœ“[39m src/web/auto-reply.broadcast-groups.broadcasts-sequentially-configured-order.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 938[2mms[22m[39m
     [33m[2mâœ“[22m[39m broadcasts sequentially in configured order [33m 306[2mms[22m[39m
     [33m[2mâœ“[22m[39m broadcasts in parallel by default [33m 353[2mms[22m[39m
[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdoes not deliver HEARTBEAT_OK responses
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdoes not deliver HEARTBEAT_OK responses
[22m[39m[35m[whatsapp][39m [36mInbound message +1555 -> +2666 (undefined, 21 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdoes not double-prefix if responsePrefix already present
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdoes not double-prefix if responsePrefix already present
[22m[39m[35m[whatsapp][39m [36mInbound message +1555 -> +2666 (undefined, 21 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdoes not double-prefix if responsePrefix already present
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1555[39m

 [32mâœ“[39m src/web/auto-reply.web-auto-reply.prefixes-body-same-phone-marker-from.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 1069[2mms[22m[39m
     [33m[2mâœ“[22m[39m does not prefix body when from !== to [33m 325[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply.heartbeat-typing.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 1161[2mms[22m[39m
     [33m[2mâœ“[22m[39m starts typing for normal runs [33m 750[2mms[22m[39m
     [33m[2mâœ“[22m[39m does not start typing for heartbeat runs [33m 402[2mms[22m[39m
 [32mâœ“[39m src/rfsn/policy-bootstrap.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 482[2mms[22m[39m
[90mstderr[2m | src/auto-reply/reply/session.test.ts[2m > [22m[2minitSessionState thread forking[2m > [22m[2mforks a new session from the parent session file
[22m[39m[session-init] forking from parent session: parentKey=agent:main:slack:channel:c1 â†’ sessionKey=agent:main:slack:channel:c1:thread:123 parentTokens=?
[session-init] forked session created: file=/var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-thread-session-3E3pbC/sessions/2026-02-14T21-39-03-307Z_c34f97ad-9c5a-410f-833b-afe51d103a07.jsonl

 [32mâœ“[39m src/auto-reply/reply/session.test.ts [2m([22m[2m14 tests[22m[2m)[22m[33m 378[2mms[22m[39m
 [32mâœ“[39m src/cli/browser-cli-extension.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 469[2mms[22m[39m
     [33m[2mâœ“[22m[39m installs into the state dir (never node_modules) [33m 349[2mms[22m[39m
 [32mâœ“[39m src/memory/qmd-manager.test.ts [2m([22m[2m19 tests[22m[2m)[22m[33m 750[2mms[22m[39m
 [32mâœ“[39m src/infra/run-node.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 1144[2mms[22m[39m
     [33m[2mâœ“[22m[39m preserves control-ui assets by building with tsdown --no-clean [33m 1143[2mms[22m[39m
 [32mâœ“[39m src/agents/subagent-registry.persistence.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 966[2mms[22m[39m
     [33m[2mâœ“[22m[39m persists runs to disk and resumes after restart [33m 484[2mms[22m[39m
 [32mâœ“[39m src/cli/program.nodes-media.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 1451[2mms[22m[39m
     [33m[2mâœ“[22m[39m runs nodes camera snap and prints two MEDIA paths [33m 927[2mms[22m[39m
[90mstderr[2m | src/auto-reply/reply/agent-runner.heartbeat-typing.runreplyagent-typing-heartbeat.resets-corrupted-gemini-sessions-deletes-transcripts.test.ts[2m > [22m[2mrunReplyAgent typing (heartbeat)[2m > [22m[2mresets corrupted Gemini sessions and deletes transcripts
[22m[39mSession history corrupted (Gemini function call ordering). Resetting session: main

[90mstderr[2m | src/auto-reply/reply/agent-runner.heartbeat-typing.runreplyagent-typing-heartbeat.resets-corrupted-gemini-sessions-deletes-transcripts.test.ts[2m > [22m[2mrunReplyAgent typing (heartbeat)[2m > [22m[2mkeeps sessions intact on other errors
[22m[39mEmbedded agent failed before reply: INVALID_ARGUMENT: some other failure

[90mstderr[2m | src/auto-reply/reply/agent-runner.heartbeat-typing.runreplyagent-typing-heartbeat.resets-corrupted-gemini-sessions-deletes-transcripts.test.ts[2m > [22m[2mrunReplyAgent typing (heartbeat)[2m > [22m[2mreturns friendly message for role ordering errors thrown as exceptions
[22m[39mEmbedded agent failed before reply: 400 Incorrect role information

[90mstderr[2m | src/auto-reply/reply/agent-runner.heartbeat-typing.runreplyagent-typing-heartbeat.resets-corrupted-gemini-sessions-deletes-transcripts.test.ts[2m > [22m[2mrunReplyAgent typing (heartbeat)[2m > [22m[2mreturns friendly message for 'roles must alternate' errors thrown as exceptions
[22m[39mEmbedded agent failed before reply: messages: roles must alternate between "user" and "assistant"

 [32mâœ“[39m src/auto-reply/reply/agent-runner.heartbeat-typing.runreplyagent-typing-heartbeat.resets-corrupted-gemini-sessions-deletes-transcripts.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 203[2mms[22m[39m
 [32mâœ“[39m src/process/child-process-bridge.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 549[2mms[22m[39m
     [33m[2mâœ“[22m[39m forwards SIGTERM to the wrapped child [33m 546[2mms[22m[39m
 [32mâœ“[39m src/utils.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 76[2mms[22m[39m
 [32mâœ“[39m src/cli/cron-cli.test.ts [2m([22m[2m15 tests[22m[2m)[22m[33m 803[2mms[22m[39m
     [33m[2mâœ“[22m[39m trims model and thinking on cron add [33m 773[2mms[22m[39m
 [32mâœ“[39m src/config/config.compaction-settings.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 590[2mms[22m[39m
     [33m[2mâœ“[22m[39m preserves memory flush config values [33m 374[2mms[22m[39m
[90mstdout[2m | src/browser/server.post-tabs-open-profile-unknown-returns-404.test.ts[2m > [22m[2mbrowser control server[2m > [22m[2mPOST /tabs/open?profile=unknown returns 404
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60080/[39m

 [32mâœ“[39m src/security/skill-scanner.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 151[2mms[22m[39m
[90mstdout[2m | src/browser/server.post-tabs-open-profile-unknown-returns-404.test.ts[2m > [22m[2mprofile CRUD endpoints[2m > [22m[2mPOST /profiles/create returns 400 for missing name
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60082/[39m

[90mstdout[2m | src/browser/server.post-tabs-open-profile-unknown-returns-404.test.ts[2m > [22m[2mprofile CRUD endpoints[2m > [22m[2mPOST /profiles/create returns 400 for invalid name format
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60084/[39m

[90mstdout[2m | src/browser/server.post-tabs-open-profile-unknown-returns-404.test.ts[2m > [22m[2mprofile CRUD endpoints[2m > [22m[2mPOST /profiles/create returns 409 for duplicate name
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60086/[39m

[90mstdout[2m | src/browser/server.post-tabs-open-profile-unknown-returns-404.test.ts[2m > [22m[2mprofile CRUD endpoints[2m > [22m[2mPOST /profiles/create accepts cdpUrl for remote profiles
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60088/[39m

[90mstdout[2m | src/browser/server.post-tabs-open-profile-unknown-returns-404.test.ts[2m > [22m[2mprofile CRUD endpoints[2m > [22m[2mPOST /profiles/create returns 400 for invalid cdpUrl
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60090/[39m

[90mstdout[2m | src/browser/server.post-tabs-open-profile-unknown-returns-404.test.ts[2m > [22m[2mprofile CRUD endpoints[2m > [22m[2mDELETE /profiles/:name returns 404 for non-existent profile
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60092/[39m

[90mstdout[2m | src/browser/server.post-tabs-open-profile-unknown-returns-404.test.ts[2m > [22m[2mprofile CRUD endpoints[2m > [22m[2mDELETE /profiles/:name returns 400 for default profile deletion
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60094/[39m

[90mstdout[2m | src/browser/server.post-tabs-open-profile-unknown-returns-404.test.ts[2m > [22m[2mprofile CRUD endpoints[2m > [22m[2mDELETE /profiles/:name returns 400 for invalid name format
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60096/[39m

 [32mâœ“[39m src/browser/server.post-tabs-open-profile-unknown-returns-404.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 599[2mms[22m[39m
     [33m[2mâœ“[22m[39m POST /tabs/open?profile=unknown returns 404 [33m 530[2mms[22m[39m
[90mstdout[2m | src/browser/server.serves-status-starts-browser-requested.test.ts[2m > [22m[2mbrowser control server[2m > [22m[2mserves status + starts browser when requested
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60098/[39m

[90mstdout[2m | src/browser/server.serves-status-starts-browser-requested.test.ts[2m > [22m[2mbrowser control server[2m > [22m[2mhandles tabs: list, open, focus conflict on ambiguous prefix
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60103/[39m

 [32mâœ“[39m src/browser/server.serves-status-starts-browser-requested.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 603[2mms[22m[39m
     [33m[2mâœ“[22m[39m serves status + starts browser when requested [33m 563[2mms[22m[39m
[90mstderr[2m | src/agents/tool-images.test.ts[2m > [22m[2mtool image sanitizing[2m > [22m[2mshrinks oversized images to <=5MB
[22m[39m[33m[agents/tool-images][39m [33mImage exceeds limits; resizing[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.supports-always-group-activation-silent-token-preserves.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2msupports always-on group activation with silent token and clears pending history
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.supports-always-group-activation-silent-token-preserves.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2msupports always-on group activation with silent token and clears pending history
[22m[39m[35m[whatsapp][39m [36mInbound message 123@g.us -> +2 (group, 50 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.supports-always-group-activation-silent-token-preserves.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2msupports always-on group activation with silent token and clears pending history
[22m[39m[35m[whatsapp][39m [36mInbound message 123@g.us -> +2 (group, 49 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.supports-always-group-activation-silent-token-preserves.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2msupports always-on group activation with silent token and clears pending history
[22m[39m[35m[whatsapp][39m [36mAuto-replied to 123@g.us[39m

[90mstdout[2m | src/agents/tool-images.test.ts[2m > [22m[2mtool image sanitizing[2m > [22m[2mshrinks oversized images to <=5MB
[22m[39m[33m[agents/tool-images][39m [36mImage resized[39m

[90mstderr[2m | src/agents/tool-images.test.ts[2m > [22m[2mtool image sanitizing[2m > [22m[2msanitizes image arrays and reports drops
[22m[39m[33m[agents/tool-images][39m [33mImage exceeds limits; resizing[39m

[90mstdout[2m | src/agents/tool-images.test.ts[2m > [22m[2mtool image sanitizing[2m > [22m[2msanitizes image arrays and reports drops
[22m[39m[33m[agents/tool-images][39m [36mImage resized[39m

[90mstderr[2m | src/agents/tool-images.test.ts[2m > [22m[2mtool image sanitizing[2m > [22m[2mshrinks images that exceed max dimension even if size is small
[22m[39m[33m[agents/tool-images][39m [33mImage exceeds limits; resizing[39m

[90mstdout[2m | src/agents/tool-images.test.ts[2m > [22m[2mtool image sanitizing[2m > [22m[2mshrinks images that exceed max dimension even if size is small
[22m[39m[33m[agents/tool-images][39m [36mImage resized[39m

 [32mâœ“[39m src/agents/tool-images.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 643[2mms[22m[39m
     [33m[2mâœ“[22m[39m shrinks oversized images to <=5MB [33m 543[2mms[22m[39m
[90mstdout[2m | src/web/auto-reply.web-auto-reply.supports-always-group-activation-silent-token-preserves.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mignores JID mentions in self-chat mode (group chats)
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.supports-always-group-activation-silent-token-preserves.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mignores JID mentions in self-chat mode (group chats)
[22m[39m[35m[whatsapp][39m [36mInbound message 123@g.us -> +2 (group, 180 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.supports-always-group-activation-silent-token-preserves.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mignores JID mentions in self-chat mode (group chats)
[22m[39m[35m[whatsapp][39m [36mAuto-replied to 123@g.us[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.supports-always-group-activation-silent-token-preserves.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2memits heartbeat logs with connection metadata
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.supports-always-group-activation-silent-token-preserves.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mlogs outbound replies to file
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.supports-always-group-activation-silent-token-preserves.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mlogs outbound replies to file
[22m[39m[35m[whatsapp][39m [36mInbound message +1 -> +2 (undefined, 19 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.supports-always-group-activation-silent-token-preserves.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mlogs outbound replies to file
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1[39m

 [32mâœ“[39m src/web/auto-reply.web-auto-reply.supports-always-group-activation-silent-token-preserves.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 1056[2mms[22m[39m
     [33m[2mâœ“[22m[39m supports always-on group activation with silent token and clears pending history [33m 893[2mms[22m[39m
 [32mâœ“[39m src/config/config.env-vars.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 793[2mms[22m[39m
 [32mâœ“[39m src/browser/pw-tools-core.clamps-timeoutms-scrollintoview.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 1177[2mms[22m[39m
     [33m[2mâœ“[22m[39m clamps timeoutMs for scrollIntoView [33m 1173[2mms[22m[39m
[90mstdout[2m | src/web/auto-reply.web-auto-reply.sends-tool-summaries-immediately-responseprefix.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mskips tool summaries and sends final reply with responsePrefix
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.sends-tool-summaries-immediately-responseprefix.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mskips tool summaries and sends final reply with responsePrefix
[22m[39m[35m[whatsapp][39m [36mInbound message +1555 -> +2666 (undefined, 19 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.sends-tool-summaries-immediately-responseprefix.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mskips tool summaries and sends final reply with responsePrefix
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1555[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.sends-tool-summaries-immediately-responseprefix.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2muses identity.name for messagePrefix when set
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.sends-tool-summaries-immediately-responseprefix.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2muses identity.name for messagePrefix when set
[22m[39m[35m[whatsapp][39m [36mInbound message +1555 -> +2666 (undefined, 29 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.sends-tool-summaries-immediately-responseprefix.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2muses identity.name for messagePrefix when set
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1555[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.sends-tool-summaries-immediately-responseprefix.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdoes not derive responsePrefix from identity.name when unset
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.sends-tool-summaries-immediately-responseprefix.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdoes not derive responsePrefix from identity.name when unset
[22m[39m[35m[whatsapp][39m [36mInbound message +1555 -> +2666 (undefined, 29 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.sends-tool-summaries-immediately-responseprefix.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdoes not derive responsePrefix from identity.name when unset
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1555[39m

 [32mâœ“[39m src/web/auto-reply.web-auto-reply.sends-tool-summaries-immediately-responseprefix.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 924[2mms[22m[39m
     [33m[2mâœ“[22m[39m skips tool summaries and sends final reply with responsePrefix [33m 709[2mms[22m[39m
[90mstdout[2m | src/browser/server.covers-additional-endpoint-branches.test.ts[2m > [22m[2mbrowser control server[2m > [22m[2mcovers additional endpoint branches
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60113/[39m

[90mstdout[2m | src/browser/server.covers-additional-endpoint-branches.test.ts[2m > [22m[2mbackward compatibility (profile parameter)[2m > [22m[2mGET / without profile uses default profile
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60117/[39m

[90mstdout[2m | src/browser/server.covers-additional-endpoint-branches.test.ts[2m > [22m[2mbackward compatibility (profile parameter)[2m > [22m[2mPOST /start without profile uses default profile
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60119/[39m

[90mstdout[2m | src/browser/server.covers-additional-endpoint-branches.test.ts[2m > [22m[2mbackward compatibility (profile parameter)[2m > [22m[2mPOST /stop without profile uses default profile
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60121/[39m

[90mstdout[2m | src/browser/server.covers-additional-endpoint-branches.test.ts[2m > [22m[2mbackward compatibility (profile parameter)[2m > [22m[2mGET /tabs without profile uses default profile
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60124/[39m

[90mstdout[2m | src/browser/server.covers-additional-endpoint-branches.test.ts[2m > [22m[2mbackward compatibility (profile parameter)[2m > [22m[2mPOST /tabs/open without profile uses default profile
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60127/[39m

[90mstdout[2m | src/browser/server.covers-additional-endpoint-branches.test.ts[2m > [22m[2mbackward compatibility (profile parameter)[2m > [22m[2mGET /profiles returns list of profiles
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60130/[39m

[90mstdout[2m | src/browser/server.covers-additional-endpoint-branches.test.ts[2m > [22m[2mbackward compatibility (profile parameter)[2m > [22m[2mGET /tabs?profile=openclaw returns tabs for specified profile
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60132/[39m

[90mstdout[2m | src/browser/server.covers-additional-endpoint-branches.test.ts[2m > [22m[2mbackward compatibility (profile parameter)[2m > [22m[2mPOST /tabs/open?profile=openclaw opens tab in specified profile
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60135/[39m

[90mstdout[2m | src/browser/server.covers-additional-endpoint-branches.test.ts[2m > [22m[2mbackward compatibility (profile parameter)[2m > [22m[2mGET /tabs?profile=unknown returns 404
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60138/[39m

 [32mâœ“[39m src/browser/server.covers-additional-endpoint-branches.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 1001[2mms[22m[39m
     [33m[2mâœ“[22m[39m covers additional endpoint branches [33m 908[2mms[22m[39m
[90mstdout[2m | src/hooks/bundled/session-memory/handler.test.ts[2m > [22m[2msession-memory hook[2m > [22m[2mcreates memory file with session content on /new command
[22m[39m[34m[hooks/session-memory][39m [36mSession context saved to /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-session-memory-BejlpC/memory/2026-02-14-2139.md[39m

[90mstdout[2m | src/hooks/bundled/session-memory/handler.test.ts[2m > [22m[2msession-memory hook[2m > [22m[2mfilters out non-message entries (tool calls, system)
[22m[39m[34m[hooks/session-memory][39m [36mSession context saved to /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-session-memory-CzmNZF/memory/2026-02-14-2139.md[39m

[90mstdout[2m | src/hooks/bundled/session-memory/handler.test.ts[2m > [22m[2msession-memory hook[2m > [22m[2mfilters out command messages starting with /
[22m[39m[34m[hooks/session-memory][39m [36mSession context saved to /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-session-memory-rOEXJN/memory/2026-02-14-2139.md[39m

[90mstdout[2m | src/hooks/bundled/session-memory/handler.test.ts[2m > [22m[2msession-memory hook[2m > [22m[2mrespects custom messages config (limits to N messages)
[22m[39m[34m[hooks/session-memory][39m [36mSession context saved to /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-session-memory-XEDddV/memory/2026-02-14-2139.md[39m

[90mstdout[2m | src/hooks/bundled/session-memory/handler.test.ts[2m > [22m[2msession-memory hook[2m > [22m[2mfilters messages before slicing (fix for #2681)
[22m[39m[34m[hooks/session-memory][39m [36mSession context saved to /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-session-memory-dwLadY/memory/2026-02-14-2139.md[39m

[90mstdout[2m | src/hooks/bundled/session-memory/handler.test.ts[2m > [22m[2msession-memory hook[2m > [22m[2mhandles empty session files gracefully
[22m[39m[34m[hooks/session-memory][39m [36mSession context saved to /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-session-memory-aNG65n/memory/2026-02-14-2139.md[39m

[90mstdout[2m | src/hooks/bundled/session-memory/handler.test.ts[2m > [22m[2msession-memory hook[2m > [22m[2mhandles session files with fewer messages than requested
[22m[39m[34m[hooks/session-memory][39m [36mSession context saved to /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-session-memory-OQ3yVi/memory/2026-02-14-2139.md[39m

 [32mâœ“[39m src/hooks/bundled/session-memory/handler.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 774[2mms[22m[39m
 [32mâœ“[39m src/agents/models-config.normalizes-gemini-3-ids-preview-google-providers.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 406[2mms[22m[39m
     [33m[2mâœ“[22m[39m normalizes gemini 3 ids to preview for google providers [33m 402[2mms[22m[39m
[90mstdout[2m | src/browser/server.skips-default-maxchars-explicitly-set-zero.test.ts[2m > [22m[2mbrowser control server[2m > [22m[2mskips default maxChars when explicitly set to zero
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60149/[39m

[90mstdout[2m | src/browser/server.skips-default-maxchars-explicitly-set-zero.test.ts[2m > [22m[2mbrowser control server[2m > [22m[2mvalidates agent inputs (agent routes)
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60153/[39m

[90mstdout[2m | src/browser/server.skips-default-maxchars-explicitly-set-zero.test.ts[2m > [22m[2mbrowser control server[2m > [22m[2mcovers common error branches
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60156/[39m

[90mstdout[2m | src/browser/server.skips-default-maxchars-explicitly-set-zero.test.ts[2m > [22m[2mbrowser control server[2m > [22m[2mopens tabs via CDP createTarget path
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60163/[39m

 [32mâœ“[39m src/browser/server.skips-default-maxchars-explicitly-set-zero.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 749[2mms[22m[39m
     [33m[2mâœ“[22m[39m skips default maxChars when explicitly set to zero [33m 626[2mms[22m[39m
[90mstdout[2m | src/infra/heartbeat-runner.respects-ackmaxchars-heartbeat-acks.test.ts[2m > [22m[2mresolveHeartbeatIntervalMs[2m > [22m[2mskips WhatsApp delivery when not linked or running
[22m[39m[36m[heartbeat][39m [36mchannel not ready[39m

[90mstdout[2m | src/infra/heartbeat-runner.respects-ackmaxchars-heartbeat-acks.test.ts[2m > [22m[2mresolveHeartbeatIntervalMs[2m > [22m[2muses explicit heartbeat accountId for telegram delivery
[22m[39m[36m[heartbeat][39m [36musing explicit accountId[39m

 [32mâœ“[39m src/infra/heartbeat-runner.respects-ackmaxchars-heartbeat-acks.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 407[2mms[22m[39m
[90mstderr[2m | src/plugins/tools.optional.test.ts[2m > [22m[2mresolvePluginTools optional tools[2m > [22m[2mrejects plugin id collisions with core tool names
[22m[39m[35m[plugins][39m [31mplugin id conflicts with core tool name (message)[39m

[90mstderr[2m | src/plugins/tools.optional.test.ts[2m > [22m[2mresolvePluginTools optional tools[2m > [22m[2mskips conflicting tool names but keeps other tools
[22m[39m[35m[plugins][39m [31mplugin tool name conflict (multi): message[39m

 [32mâœ“[39m src/plugins/tools.optional.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 974[2mms[22m[39m
     [33m[2mâœ“[22m[39m skips optional tools without explicit allowlist [33m 328[2mms[22m[39m
[90mstdout[2m | src/web/auto-reply.web-auto-reply.falls-back-text-media-send-fails.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mfalls back to text when media send fails
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.falls-back-text-media-send-fails.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mfalls back to text when media send fails
[22m[39m[35m[whatsapp][39m [36mInbound message +1 -> +2 (undefined, 19 chars)[39m

[90mstderr[2m | src/web/auto-reply.web-auto-reply.falls-back-text-media-send-fails.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mfalls back to text when media send fails
[22m[39m[35m[whatsapp][39m [31mFailed sending web media to +1: boom[39m
[35m[whatsapp][39m [33mMedia skipped; sent text-only to +1[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.falls-back-text-media-send-fails.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mfalls back to text when media send fails
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1 (media)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.falls-back-text-media-send-fails.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mreturns a warning when remote media fetch 404s
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.falls-back-text-media-send-fails.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mreturns a warning when remote media fetch 404s
[22m[39m[35m[whatsapp][39m [36mInbound message +1 -> +2 (undefined, 19 chars)[39m

[90mstderr[2m | src/web/auto-reply.web-auto-reply.falls-back-text-media-send-fails.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mreturns a warning when remote media fetch 404s
[22m[39m[35m[whatsapp][39m [31mFailed sending web media to +1: Failed to fetch media from https://example.com/missing.jpg: HTTP 404; empty response body[39m
[35m[whatsapp][39m [33mMedia skipped; sent text-only to +1[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.falls-back-text-media-send-fails.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mreturns a warning when remote media fetch 404s
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1 (media)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.falls-back-text-media-send-fails.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mcompresses media over 5MB and still sends it
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.falls-back-text-media-send-fails.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mcompresses media over 5MB and still sends it
[22m[39m[35m[whatsapp][39m [36mInbound message +1 -> +2 (undefined, 19 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.falls-back-text-media-send-fails.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mcompresses media over 5MB and still sends it
[22m[39m[35m[whatsapp][39m [36mSent media reply to +1 (0.01MB)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.falls-back-text-media-send-fails.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mcompresses media over 5MB and still sends it
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1 (media)[39m

 [32mâœ“[39m src/web/auto-reply.web-auto-reply.falls-back-text-media-send-fails.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 552[2mms[22m[39m
     [33m[2mâœ“[22m[39m compresses media over 5MB and still sends it [33m 319[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/agent-runner.memory-flush.runreplyagent-memory-flush.runs-memory-flush-turn-updates-session-metadata.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 176[2mms[22m[39m
 [31mâ¯[39m src/infra/gateway-lock.test.ts [2m([22m[2m3 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 678[2mms[22m[39m
     [32mâœ“[39m blocks concurrent acquisition until release[32m 270[2mms[22m[39m
[31m     [31mÃ—[31m treats recycled linux pid as stale when start time mismatches[39m[32m 241[2mms[22m[39m
     [32mâœ“[39m keeps lock on linux when proc access fails unless stale[32m 165[2mms[22m[39m
 [32mâœ“[39m src/web/logout.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 1138[2mms[22m[39m
     [33m[2mâœ“[22m[39m deletes cached credentials when present [33m 1001[2mms[22m[39m
 [32mâœ“[39m src/config/sessions.test.ts [2m([22m[2m27 tests[22m[2m)[22m[33m 603[2mms[22m[39m
 [32mâœ“[39m src/config/config.discord.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 525[2mms[22m[39m
     [33m[2mâœ“[22m[39m loads discord guild map + dm group settings [33m 520[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/session-resets.test.ts [2m([22m[2m11 tests[22m[2m)[22m[33m 658[2mms[22m[39m
 [32mâœ“[39m src/tui/theme/theme.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 615[2mms[22m[39m
       [33m[2mâœ“[22m[39m should handle unknown languages gracefully [33m 537[2mms[22m[39m
 [32mâœ“[39m src/line/bot-handlers.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 1194[2mms[22m[39m
 [32mâœ“[39m src/commands/gateway-status.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 1172[2mms[22m[39m
     [33m[2mâœ“[22m[39m prints human output by default [33m 1162[2mms[22m[39m
[90mstdout[2m | src/browser/server.agent-contract-snapshot-endpoints.test.ts[2m > [22m[2mbrowser control server[2m > [22m[2magent contract: snapshot endpoints
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60181/[39m

[90mstdout[2m | src/browser/server.agent-contract-snapshot-endpoints.test.ts[2m > [22m[2mbrowser control server[2m > [22m[2magent contract: navigation + common act commands
[22m[39m[36m[browser/server][39m [36mBrowser control listening on http://127.0.0.1:60184/[39m

 [32mâœ“[39m src/browser/server.agent-contract-snapshot-endpoints.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 656[2mms[22m[39m
     [33m[2mâœ“[22m[39m agent contract: snapshot endpoints [33m 540[2mms[22m[39m
 [32mâœ“[39m src/agents/models-config.skips-writing-models-json-no-env-token.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 732[2mms[22m[39m
 [32mâœ“[39m src/cli/program.nodes-basic.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 717[2mms[22m[39m
     [33m[2mâœ“[22m[39m runs nodes list and calls node.pair.list [33m 416[2mms[22m[39m
[90mstdout[2m | src/telegram/bot.create-telegram-bot.matches-usernames-case-insensitively-grouppolicy-is.test.ts[2m > [22m[2mcreateTelegramBot[2m > [22m[2mmatches usernames case-insensitively when groupPolicy is 'allowlist'
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

 [32mâœ“[39m src/telegram/bot.create-telegram-bot.matches-usernames-case-insensitively-grouppolicy-is.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 621[2mms[22m[39m
 [32mâœ“[39m src/agents/bash-tools.process.send-keys.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 1344[2mms[22m[39m
   [33m[2mâœ“[22m[39m process send-keys encodes Enter for pty sessions [33m 1077[2mms[22m[39m
 [32mâœ“[39m src/telegram/sticker-cache.test.ts [2m([22m[2m17 tests[22m[2m)[22m[33m 711[2mms[22m[39m
 [32mâœ“[39m src/process/exec.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 406[2mms[22m[39m
 [32mâœ“[39m src/cli/dns-cli.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 491[2mms[22m[39m
     [33m[2mâœ“[22m[39m prints setup info (no apply) [33m 477[2mms[22m[39m
[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mpruneStaleEntries[2m > [22m[2mremoves entries older than maxAgeDays
[22m[39m[31m[sessions/store][39m [36mpruned stale session entries[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mpruneStaleEntries[2m > [22m[2mall entries stale results in empty store
[22m[39m[31m[sessions/store][39m [36mpruned stale session entries[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mpruneStaleEntries[2m > [22m[2mreturns count of pruned entries
[22m[39m[31m[sessions/store][39m [36mpruned stale session entries[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mpruneStaleEntries[2m > [22m[2mfalls back to built-in default (30 days) when no override given
[22m[39m[31m[sessions/store][39m [36mpruned stale session entries[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mcapEntryCount[2m > [22m[2mover limit: keeps N most recent by updatedAt, deletes rest
[22m[39m[31m[sessions/store][39m [36mcapped session entry count[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mcapEntryCount[2m > [22m[2mentries without updatedAt are evicted first (lowest priority)
[22m[39m[31m[sessions/store][39m [36mcapped session entry count[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mcapEntryCount[2m > [22m[2mreturns count of evicted entries
[22m[39m[31m[sessions/store][39m [36mcapped session entry count[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mcapEntryCount[2m > [22m[2mfalls back to built-in default (500) when no override given
[22m[39m[31m[sessions/store][39m [36mcapped session entry count[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mrotateSessionFile[2m > [22m[2mfile over maxBytes: renamed to .bak.{timestamp}, returns true
[22m[39m[31m[sessions/store][39m [36mrotated session store file[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mrotateSessionFile[2m > [22m[2mmultiple rotations: only keeps 3 most recent .bak files
[22m[39m[31m[sessions/store][39m [36mrotated session store file[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mrotateSessionFile[2m > [22m[2mmultiple rotations: only keeps 3 most recent .bak files
[22m[39m[31m[sessions/store][39m [36mrotated session store file[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mrotateSessionFile[2m > [22m[2mmultiple rotations: only keeps 3 most recent .bak files
[22m[39m[31m[sessions/store][39m [36mrotated session store file[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mrotateSessionFile[2m > [22m[2mmultiple rotations: only keeps 3 most recent .bak files
[22m[39m[31m[sessions/store][39m [36mrotated session store file[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mrotateSessionFile[2m > [22m[2mmultiple rotations: only keeps 3 most recent .bak files
[22m[39m[31m[sessions/store][39m [36mcleaned up old session store backups[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mrotateSessionFile[2m > [22m[2mmultiple rotations: only keeps 3 most recent .bak files
[22m[39m[31m[sessions/store][39m [36mrotated session store file[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mrotateSessionFile[2m > [22m[2mmultiple rotations: only keeps 3 most recent .bak files
[22m[39m[31m[sessions/store][39m [36mcleaned up old session store backups[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mrotateSessionFile[2m > [22m[2mbackup file name includes a timestamp
[22m[39m[31m[sessions/store][39m [36mrotated session store file[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mIntegration: saveSessionStore with pruning[2m > [22m[2msaveSessionStore prunes stale entries on write
[22m[39m[31m[sessions/store][39m [36mpruned stale session entries[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mIntegration: saveSessionStore with pruning[2m > [22m[2msaveSessionStore caps entries over limit
[22m[39m[31m[sessions/store][39m [36mcapped session entry count[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mIntegration: saveSessionStore with pruning[2m > [22m[2msaveSessionStore rotates file when over size limit and creates .bak
[22m[39m[31m[sessions/store][39m [36mrotated session store file[39m

[90mstdout[2m | src/config/sessions/store.pruning.test.ts[2m > [22m[2mIntegration: saveSessionStore with pruning[2m > [22m[2msaveSessionStore applies both pruning and capping together
[22m[39m[31m[sessions/store][39m [36mpruned stale session entries[39m
[31m[sessions/store][39m [36mcapped session entry count[39m

 [32mâœ“[39m src/config/sessions/store.pruning.test.ts [2m([22m[2m29 tests[22m[2m)[22m[33m 410[2mms[22m[39m
 [32mâœ“[39m src/commands/models/list.status.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 816[2mms[22m[39m
     [33m[2mâœ“[22m[39m labels defaults when --agent has no overrides [33m 751[2mms[22m[39m
 [32mâœ“[39m src/security/fix.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 427[2mms[22m[39m
     [33m[2mâœ“[22m[39m tightens groupPolicy + filesystem perms [33m 308[2mms[22m[39m
 [32mâœ“[39m src/infra/provider-usage.auth.normalizes-keys.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 459[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/image-tool.test.ts [2m([22m[2m15 tests[22m[2m)[22m[33m 586[2mms[22m[39m
     [33m[2mâœ“[22m[39m rewrites inbound absolute paths into sandbox media/inbound [33m 390[2mms[22m[39m
 [32mâœ“[39m src/security/subprocess.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 298[2mms[22m[39m
[90mstderr[2m | src/agents/bash-tools.exec.pty-fallback.test.ts[2m > [22m[2mexec falls back when PTY spawn fails
[22m[39m[32m[exec][39m [33mPTY spawn failed (Error: spawn EBADF); retrying without PTY for "printf ok".[39m

 [32mâœ“[39m src/agents/bash-tools.exec.pty-fallback.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 440[2mms[22m[39m
   [33m[2mâœ“[22m[39m exec falls back when PTY spawn fails [33m 438[2mms[22m[39m
 [32mâœ“[39m src/infra/update-runner.test.ts [2m([22m[2m14 tests[22m[2m)[22m[33m 650[2mms[22m[39m
 [32mâœ“[39m src/channels/plugins/actions/discord.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 760[2mms[22m[39m
     [33m[2mâœ“[22m[39m lists channel and upload actions by default [33m 747[2mms[22m[39m
 [32mâœ“[39m src/agents/models-config.auto-injects-github-copilot-provider-token-is.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 673[2mms[22m[39m
     [33m[2mâœ“[22m[39m auto-injects github-copilot provider when token is present [33m 366[2mms[22m[39m
 [32mâœ“[39m src/agents/models-config.uses-first-github-copilot-profile-env-tokens.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 996[2mms[22m[39m
     [33m[2mâœ“[22m[39m uses the first github-copilot profile when env tokens are missing [33m 577[2mms[22m[39m
     [33m[2mâœ“[22m[39m does not override explicit github-copilot provider config [33m 414[2mms[22m[39m
 [32mâœ“[39m src/media/server.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 548[2mms[22m[39m
[90mstdout[2m | src/telegram/bot.create-telegram-bot.accepts-group-messages-mentionpatterns-match-without-botusername.test.ts[2m > [22m[2mcreateTelegramBot[2m > [22m[2maccepts group messages when mentionPatterns match (without @botUsername)
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

 [32mâœ“[39m src/telegram/bot.create-telegram-bot.accepts-group-messages-mentionpatterns-match-without-botusername.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 422[2mms[22m[39m
 [32mâœ“[39m src/infra/path-env.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 406[2mms[22m[39m
[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mrequires mention in group chats and injects history when replying
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mrequires mention in group chats and injects history when replying
[22m[39m[35m[whatsapp][39m [36mInbound message 123@g.us -> +2 (group, 176 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mrequires mention in group chats and injects history when replying
[22m[39m[35m[whatsapp][39m [36mAuto-replied to 123@g.us[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mbypasses mention gating for owner /new in group chats
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mbypasses mention gating for owner /new in group chats
[22m[39m[35m[whatsapp][39m [36mInbound message 123@g.us -> +2 (group, 38 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mbypasses mention gating for owner /new in group chats
[22m[39m[35m[whatsapp][39m [36mAuto-replied to 123@g.us[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdoes not bypass mention gating for non-owner /new in group chats
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mbypasses mention gating for owner /status in group chats
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mbypasses mention gating for owner /status in group chats
[22m[39m[35m[whatsapp][39m [36mInbound message 123@g.us -> +2 (group, 41 chars)[39m

 [32mâœ“[39m src/auto-reply/reply/followup-runner.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 132[2mms[22m[39m
[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mbypasses mention gating for owner /status in group chats
[22m[39m[35m[whatsapp][39m [36mAuto-replied to 123@g.us[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mpasses conversation id through as From for group replies
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mpasses conversation id through as From for group replies
[22m[39m[35m[whatsapp][39m [36mInbound message 123@g.us -> +2 (group, 41 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mpasses conversation id through as From for group replies
[22m[39m[35m[whatsapp][39m [36mAuto-replied to 123@g.us[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdetects LID mentions using authDir mapping
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdetects LID mentions using authDir mapping
[22m[39m[35m[whatsapp][39m [36mInbound message 123@g.us -> +2 (group, 176 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mdetects LID mentions using authDir mapping
[22m[39m[35m[whatsapp][39m [36mAuto-replied to 123@g.us[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mderives self E.164 from LID selfJid for mention gating
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mderives self E.164 from LID selfJid for mention gating
[22m[39m[35m[whatsapp][39m [36mInbound message 123@g.us -> +2 (group, 42 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mderives self E.164 from LID selfJid for mention gating
[22m[39m[35m[whatsapp][39m [36mAuto-replied to 123@g.us[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2msets OriginatingTo to the sender for queued routing
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2msets OriginatingTo to the sender for queued routing
[22m[39m[35m[whatsapp][39m [36mInbound message +15551234567 -> +19998887777 (undefined, 29 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2msets OriginatingTo to the sender for queued routing
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +15551234567[39m

 [32mâœ“[39m src/web/auto-reply.web-auto-reply.requires-mention-group-chats-injects-history-replying.test.ts [2m([22m[2m8 tests[22m[2m)[22m[33m 955[2mms[22m[39m
     [33m[2mâœ“[22m[39m detects LID mentions using authDir mapping [33m 351[2mms[22m[39m
 [32mâœ“[39m src/web/inbound.media.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 387[2mms[22m[39m
 [32mâœ“[39m src/commands/onboard-channels.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 469[2mms[22m[39m
 [32mâœ“[39m src/cli/logs-cli.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 455[2mms[22m[39m
     [33m[2mâœ“[22m[39m writes output directly to stdout/stderr [33m 452[2mms[22m[39m
[90mstdout[2m | src/telegram/bot.create-telegram-bot.installs-grammy-throttler.test.ts[2m > [22m[2mcreateTelegramBot[2m > [22m[2minstalls grammY throttler
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

 [32mâœ“[39m src/telegram/bot.create-telegram-bot.installs-grammy-throttler.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 319[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/status.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 235[2mms[22m[39m
 [32mâœ“[39m src/agents/skills-status.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 277[2mms[22m[39m
[90mstderr[2m | src/auto-reply/reply/agent-runner.heartbeat-typing.runreplyagent-typing-heartbeat.retries-after-compaction-failure-by-resetting-session.test.ts[2m > [22m[2mrunReplyAgent typing (heartbeat)[2m > [22m[2mretries after compaction failure by resetting the session
[22m[39mAuto-compaction failed (Context overflow: Summarization failed: 400 {"message":"prompt is too long"}). Restarting session main -> 3542e9a1-60c6-465e-bef9-31634ce27233 and retrying.

[90mstderr[2m | src/auto-reply/reply/agent-runner.heartbeat-typing.runreplyagent-typing-heartbeat.retries-after-compaction-failure-by-resetting-session.test.ts[2m > [22m[2mrunReplyAgent typing (heartbeat)[2m > [22m[2mretries after context overflow payload by resetting the session
[22m[39mAuto-compaction failed (Context overflow: Summarization failed: 400 {"message":"prompt is too long"}). Restarting session main -> 671c17b3-b2fd-410d-b515-e861aea7e12c and retrying.

[90mstderr[2m | src/auto-reply/reply/agent-runner.heartbeat-typing.runreplyagent-typing-heartbeat.retries-after-compaction-failure-by-resetting-session.test.ts[2m > [22m[2mrunReplyAgent typing (heartbeat)[2m > [22m[2mresets the session after role ordering payloads
[22m[39mRole ordering conflict (messages: roles must alternate between "user" and "assistant"). Restarting session main -> 05d4df63-85a3-417e-a319-a1b9706d7860.

 [32mâœ“[39m src/auto-reply/reply/agent-runner.heartbeat-typing.runreplyagent-typing-heartbeat.retries-after-compaction-failure-by-resetting-session.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 130[2mms[22m[39m
 [32mâœ“[39m src/pairing/pairing-store.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 175[2mms[22m[39m
[90mstdout[2m | src/telegram/bot.create-telegram-bot.sends-replies-without-native-reply-threading.test.ts[2m > [22m[2mcreateTelegramBot[2m > [22m[2msends replies without native reply threading
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

 [32mâœ“[39m src/telegram/bot.create-telegram-bot.sends-replies-without-native-reply-threading.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 230[2mms[22m[39m
 [32mâœ“[39m src/agents/models-config.falls-back-default-baseurl-token-exchange-fails.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 319[2mms[22m[39m
 [32mâœ“[39m src/agents/models-config.fills-missing-provider-apikey-from-env-var.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 339[2mms[22m[39m
 [32mâœ“[39m src/agents/auth-profiles.chutes.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 43[2mms[22m[39m
[90mstdout[2m | src/telegram/bot.create-telegram-bot.routes-dms-by-telegram-accountid-binding.test.ts[2m > [22m[2mcreateTelegramBot[2m > [22m[2mroutes DMs by telegram accountId binding
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

 [32mâœ“[39m src/agents/skills.loadworkspaceskillentries.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 267[2mms[22m[39m
 [32mâœ“[39m src/telegram/bot.create-telegram-bot.routes-dms-by-telegram-accountid-binding.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 249[2mms[22m[39m
 [32mâœ“[39m src/memory/manager.atomic-reindex.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 609[2mms[22m[39m
     [33m[2mâœ“[22m[39m keeps the prior index when a full reindex fails [33m 604[2mms[22m[39m
 [32mâœ“[39m src/browser/chrome.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 196[2mms[22m[39m
[90mstdout[2m | src/agents/cli-runner.test.ts[2m > [22m[2mrunCliAgent resume cleanup[2m > [22m[2mkills stale resume processes for codex sessions
[22m[39m[32m[agent/claude-cli][39m [36mcli exec: provider=codex-cli model=gpt-5.2-codex promptChars=2[39m

[90mstderr[2m | src/agents/cli-runner.test.ts[2m > [22m[2mrunCliAgent resume cleanup[2m > [22m[2mfalls back to per-agent workspace when workspaceDir is missing
[22m[39m[32m[agent/claude-cli][39m [33m[workspace-fallback] caller=runCliAgent reason=missing run=run-1 session=sha256:e8bc163c82ee sessionKey=sha256:32fae1b94202 agent=main workspace=sha256:f019728eefc7[39m

[90mstdout[2m | src/agents/cli-runner.test.ts[2m > [22m[2mrunCliAgent resume cleanup[2m > [22m[2mfalls back to per-agent workspace when workspaceDir is missing
[22m[39m[32m[agent/claude-cli][39m [36mcli exec: provider=codex-cli model=gpt-5.2-codex promptChars=2[39m

 [32mâœ“[39m src/agents/cli-runner.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 164[2mms[22m[39m
 [32mâœ“[39m src/media/store.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 148[2mms[22m[39m
 [32mâœ“[39m src/config/io.compat.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 162[2mms[22m[39m
 [32mâœ“[39m src/infra/ports.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 265[2mms[22m[39m
 [32mâœ“[39m src/infra/session-cost-usage.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 72[2mms[22m[39m
 [32mâœ“[39m src/cron/service.prevents-duplicate-timers.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 111[2mms[22m[39m
 [32mâœ“[39m src/config/config.gateway-remote-transport.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 293[2mms[22m[39m
 [32mâœ“[39m src/commands/models.set.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 67[2mms[22m[39m
 [32mâœ“[39m src/config/sessions/transcript.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 127[2mms[22m[39m
 [32mâœ“[39m src/config/config.talk-voicealiases.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 216[2mms[22m[39m
 [32mâœ“[39m src/agents/skills.build-workspace-skills-prompt.applies-bundled-allowlist-without-affecting-workspace-skills.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 62[2mms[22m[39m
[90mstdout[2m | src/web/auto-reply.web-auto-reply.uses-per-agent-mention-patterns-group-gating.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2muses per-agent mention patterns for group gating
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.uses-per-agent-mention-patterns-group-gating.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2muses per-agent mention patterns for group gating
[22m[39m[35m[whatsapp][39m [36mInbound message 123@g.us -> +2 (group, 181 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.uses-per-agent-mention-patterns-group-gating.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2muses per-agent mention patterns for group gating
[22m[39m[35m[whatsapp][39m [36mAuto-replied to 123@g.us[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.uses-per-agent-mention-patterns-group-gating.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mallows group messages when whatsapp groups default disables mention gating
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.uses-per-agent-mention-patterns-group-gating.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mallows group messages when whatsapp groups default disables mention gating
[22m[39m[35m[whatsapp][39m [36mInbound message 123@g.us -> +2 (group, 45 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.uses-per-agent-mention-patterns-group-gating.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mallows group messages when whatsapp groups default disables mention gating
[22m[39m[35m[whatsapp][39m [36mAuto-replied to 123@g.us[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.uses-per-agent-mention-patterns-group-gating.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mblocks group messages when whatsapp groups is set without a wildcard
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.uses-per-agent-mention-patterns-group-gating.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mhonors per-group mention overrides when conversationId uses session key
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.uses-per-agent-mention-patterns-group-gating.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mhonors per-group mention overrides when conversationId uses session key
[22m[39m[35m[whatsapp][39m [36mInbound message whatsapp:group:123@g.us -> +2 (group, 60 chars)[39m

[90mstdout[2m | src/web/auto-reply.web-auto-reply.uses-per-agent-mention-patterns-group-gating.test.ts[2m > [22m[2mweb auto-reply[2m > [22m[2mhonors per-group mention overrides when conversationId uses session key
[22m[39m[35m[whatsapp][39m [36mAuto-replied to whatsapp:group:123@g.us[39m

 [32mâœ“[39m src/web/auto-reply.web-auto-reply.uses-per-agent-mention-patterns-group-gating.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 179[2mms[22m[39m
 [32mâœ“[39m src/agents/bash-tools.exec.path.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 331[2mms[22m[39m
     [33m[2mâœ“[22m[39m merges login-shell PATH for host=gateway [33m 327[2mms[22m[39m
[90mstdout[2m | src/hooks/loader.test.ts[2m > [22m[2mloader[2m > [22m[2mloadInternalHooks[2m > [22m[2mshould load a handler from a module
[22m[39mRegistered hook (legacy): command:new -> /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-test-1771105231674/test-handler.js

[90mstdout[2m | src/hooks/loader.test.ts[2m > [22m[2mloader[2m > [22m[2mloadInternalHooks[2m > [22m[2mshould load multiple handlers
[22m[39mRegistered hook (legacy): command:new -> /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-test-1771105231715/handler1.js

[90mstdout[2m | src/hooks/loader.test.ts[2m > [22m[2mloader[2m > [22m[2mloadInternalHooks[2m > [22m[2mshould load multiple handlers
[22m[39mRegistered hook (legacy): command:stop -> /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-test-1771105231715/handler2.js

[90mstdout[2m | src/hooks/loader.test.ts[2m > [22m[2mloader[2m > [22m[2mloadInternalHooks[2m > [22m[2mshould support named exports
[22m[39mRegistered hook (legacy): command:new -> /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-test-1771105231754/named-export.js#myHandler

[90mstdout[2m | src/hooks/loader.test.ts[2m > [22m[2mloader[2m > [22m[2mloadInternalHooks[2m > [22m[2mshould handle relative paths
[22m[39mRegistered hook (legacy): command:new -> /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-test-1771105231869/relative-handler.js

[90mstdout[2m | src/hooks/loader.test.ts[2m > [22m[2mloader[2m > [22m[2mloadInternalHooks[2m > [22m[2mshould actually call the loaded handler
[22m[39mRegistered hook (legacy): command:new -> /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-test-1771105231896/callable-handler.js

 [32mâœ“[39m src/hooks/loader.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 254[2mms[22m[39m
 [32mâœ“[39m src/config/config.multi-agent-agentdir-validation.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 248[2mms[22m[39m
[90mstdout[2m | src/web/auto-reply.typing-controller-idle.test.ts[2m > [22m[2mtyping controller idle[2m > [22m[2mmarks dispatch idle after replies flush
[22m[39m[35m[whatsapp][39m [36mInbound message +1000 -> +2000 (direct, 47 chars)[39m

[90mstdout[2m | src/web/auto-reply.typing-controller-idle.test.ts[2m > [22m[2mtyping controller idle[2m > [22m[2mmarks dispatch idle after replies flush
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1000[39m

[90mstdout[2m | src/web/auto-reply.typing-controller-idle.test.ts[2m > [22m[2mtyping controller idle[2m > [22m[2mmarks dispatch idle after replies flush
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

 [32mâœ“[39m src/web/auto-reply.typing-controller-idle.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 179[2mms[22m[39m
 [32mâœ“[39m src/web/monitor-inbox.allows-messages-from-senders-allowfrom-list.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 78[2mms[22m[39m
 [32mâœ“[39m src/cron/service.store.migration.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 72[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/web-tools.fetch.test.ts [2m([22m[2m11 tests[22m[2m)[22m[33m 5485[2mms[22m[39m
     [33m[2mâœ“[22m[39m falls back to firecrawl when readability returns no content [33m 5447[2mms[22m[39m
 [32mâœ“[39m src/rfsn/dispatch.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 254[2mms[22m[39m
 [32mâœ“[39m src/security/cwd-containment.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 158[2mms[22m[39m
 [32mâœ“[39m src/config/config.sandbox-docker.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 278[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-tools.workspace-paths.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 313[2mms[22m[39m
[90mstdout[2m | src/telegram/bot.create-telegram-bot.dedupes-duplicate-callback-query-updates-by-update.test.ts[2m > [22m[2mcreateTelegramBot[2m > [22m[2mdedupes duplicate callback_query updates by update_id
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

 [32mâœ“[39m src/discord/monitor/message-handler.inbound-contract.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 139[2mms[22m[39m
 [32mâœ“[39m src/telegram/bot.create-telegram-bot.dedupes-duplicate-callback-query-updates-by-update.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 266[2mms[22m[39m
 [32mâœ“[39m src/cli/exec-approvals-cli.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 502[2mms[22m[39m
     [33m[2mâœ“[22m[39m loads local approvals by default [33m 489[2mms[22m[39m
 [32mâœ“[39m src/config/config.talk-api-key-fallback.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 254[2mms[22m[39m
 [32mâœ“[39m src/agents/skills/refresh.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 110[2mms[22m[39m
 [32mâœ“[39m src/cron/run-log.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 260[2mms[22m[39m
 [32mâœ“[39m src/rfsn/ledger.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 128[2mms[22m[39m
[90mstdout[2m | src/telegram/bot.create-telegram-bot.applies-topic-skill-filters-system-prompts.test.ts[2m > [22m[2mcreateTelegramBot[2m > [22m[2mapplies topic skill filters and system prompts
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

 [32mâœ“[39m src/telegram/bot.create-telegram-bot.applies-topic-skill-filters-system-prompts.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 336[2mms[22m[39m
 [32mâœ“[39m src/config/config.preservation-on-validation-failure.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 299[2mms[22m[39m
 [32mâœ“[39m src/agents/bash-tools.exec.pty.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 230[2mms[22m[39m
 [32mâœ“[39m src/memory/manager.vector-dedupe.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 127[2mms[22m[39m
 [32mâœ“[39m src/cli/nodes-cli.coverage.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 218[2mms[22m[39m
 [32mâœ“[39m src/config/config.broadcast.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 471[2mms[22m[39m
 [32mâœ“[39m src/agents/session-tool-result-guard.tool-result-persist-hook.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 334[2mms[22m[39m
 [32mâœ“[39m src/canvas-host/server.state-dir.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 394[2mms[22m[39m
     [33m[2mâœ“[22m[39m uses OPENCLAW_STATE_DIR for the default canvas root [33m 391[2mms[22m[39m
 [32mâœ“[39m src/config/config.agent-concurrency-defaults.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 811[2mms[22m[39m
     [33m[2mâœ“[22m[39m injects defaults on load [33m 805[2mms[22m[39m
 [32mâœ“[39m src/slack/monitor/media.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 77[2mms[22m[39m
 [32mâœ“[39m src/browser/bridge-server.auth.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 62[2mms[22m[39m
 [32mâœ“[39m src/commands/auth-choice.moonshot.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [32mâœ“[39m src/slack/monitor/message-handler/prepare.inbound-contract.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 174[2mms[22m[39m
[90mstderr[2m | src/agents/pi-tool-definition-adapter.test.ts[2m > [22m[2mpi tool definition adapter[2m > [22m[2mwraps tool errors into a tool result
[22m[39m[tools] boom failed: nope

[90mstderr[2m | src/agents/pi-tool-definition-adapter.test.ts[2m > [22m[2mpi tool definition adapter[2m > [22m[2mnormalizes exec tool aliases in error results
[22m[39m[tools] exec failed: nope

 [32mâœ“[39m src/agents/pi-tool-definition-adapter.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 87[2mms[22m[39m
 [32mâœ“[39m src/commands/agents.identity.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 73[2mms[22m[39m
 [32mâœ“[39m src/memory/embeddings.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 152[2mms[22m[39m
 [32mâœ“[39m src/config/config.msteams.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 143[2mms[22m[39m
 [32mâœ“[39m src/signal/send-reactions.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 276[2mms[22m[39m
 [32mâœ“[39m src/cron/service.skips-main-jobs-empty-systemevent-text.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 160[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply.media-note.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 199[2mms[22m[39m
 [32mâœ“[39m src/cron/cron-protocol-conformance.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 203[2mms[22m[39m
 [32mâœ“[39m src/memory/embeddings-voyage.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 104[2mms[22m[39m
 [32mâœ“[39m src/memory/internal.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 159[2mms[22m[39m
 [32mâœ“[39m src/cron/service.read-ops-nonblocking.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 99[2mms[22m[39m
[90mstdout[2m | src/agents/claude-cli-runner.test.ts[2m > [22m[2mrunClaudeCliAgent[2m > [22m[2mstarts a new session with --session-id when none is provided
[22m[39m[32m[agent/claude-cli][39m [36mcli exec: provider=claude-cli model=opus promptChars=2[39m

[90mstdout[2m | src/agents/claude-cli-runner.test.ts[2m > [22m[2mrunClaudeCliAgent[2m > [22m[2muses --resume when a claude session id is provided
[22m[39m[32m[agent/claude-cli][39m [36mcli exec: provider=claude-cli model=opus promptChars=2[39m

[90mstdout[2m | src/agents/claude-cli-runner.test.ts[2m > [22m[2mrunClaudeCliAgent[2m > [22m[2mserializes concurrent claude-cli runs
[22m[39m[32m[agent/claude-cli][39m [36mcli exec: provider=claude-cli model=opus promptChars=5[39m

[90mstdout[2m | src/agents/claude-cli-runner.test.ts[2m > [22m[2mrunClaudeCliAgent[2m > [22m[2mserializes concurrent claude-cli runs
[22m[39m[32m[agent/claude-cli][39m [36mcli exec: provider=claude-cli model=opus promptChars=6[39m

 [32mâœ“[39m src/agents/claude-cli-runner.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 119[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/agent-runner.memory-flush.runreplyagent-memory-flush.uses-configured-prompts-memory-flush-runs.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 655[2mms[22m[39m
     [33m[2mâœ“[22m[39m skips memory flush after a prior flush in the same compaction cycle [33m 616[2mms[22m[39m
 [32mâœ“[39m src/agents/auth-profiles.markauthprofilefailure.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 59[2mms[22m[39m
 [32mâœ“[39m src/browser/extension-relay.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 71[2mms[22m[39m
 [32mâœ“[39m src/cron/session-reaper.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 59[2mms[22m[39m
 [32mâœ“[39m src/browser/server-context.remote-tab-ops.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 115[2mms[22m[39m
 [32mâœ“[39m src/browser/pw-session.get-page-for-targetid.extension-fallback.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 145[2mms[22m[39m
â”‚
â—‡  Config â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                            â”‚
â”‚  Config invalid; doctor will run with best-effort config.  â”‚
â”‚                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â”‚
â—‡  Config â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                            â”‚
â”‚  Config invalid; doctor will run with best-effort config.  â”‚
â”‚                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â”‚
â—‡  Doctor changes â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                        â”‚
â”‚  - gateway.auth.extra  â”‚
â”‚  - bridge              â”‚
â”‚                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
 [32mâœ“[39m src/commands/doctor-config-flow.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 50[2mms[22m[39m
 [32mâœ“[39m src/cron/service.restart-catchup.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 80[2mms[22m[39m
 [32mâœ“[39m src/infra/archive.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 79[2mms[22m[39m
 [32mâœ“[39m src/daemon/service-audit.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 245[2mms[22m[39m
 [32mâœ“[39m src/config/paths.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 51[2mms[22m[39m
 [32mâœ“[39m src/channels/plugins/catalog.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 64[2mms[22m[39m
 [32mâœ“[39m src/infra/bonjour.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 44[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/agent-runner.memory-flush.runreplyagent-memory-flush.skips-memory-flush-sandbox-workspace-is-read.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 51[2mms[22m[39m
 [32mâœ“[39m src/scripts/canvas-a2ui-copy.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32mâœ“[39m src/imessage/send.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 140[2mms[22m[39m
 [32mâœ“[39m src/agents/skills.buildworkspaceskillsnapshot.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 240[2mms[22m[39m
 [32mâœ“[39m src/agents/model-auth.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 51[2mms[22m[39m
 [32mâœ“[39m src/infra/device-pairing.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 95[2mms[22m[39m
 [32mâœ“[39m src/hooks/soul-evil.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 69[2mms[22m[39m
 [32mâœ“[39m src/infra/update-startup.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 163[2mms[22m[39m
 [32mâœ“[39m src/line/bot-message-context.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 290[2mms[22m[39m
[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mskips tool summaries with responsePrefix
[22m[39mslack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mthreads top-level replies when replyToMode is all
[22m[39mslack: groupPolicy defaults to "open" when channels.slack is missing; set channels.slack.groupPolicy (or channels.defaults.groupPolicy) or add channels.slack.channels to restrict access.

[90mstdout[2m | src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mthreads top-level replies when replyToMode is all
[22m[39mslack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mskips tool summaries with responsePrefix
[22m[39mdelivered reply to user:U1

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mdrops events with mismatched api_app_id
[22m[39mslack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mdoes not derive responsePrefix from routed agent identity when unset
[22m[39mslack: groupPolicy defaults to "open" when channels.slack is missing; set channels.slack.groupPolicy (or channels.defaults.groupPolicy) or add channels.slack.channels to restrict access.

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mdoes not derive responsePrefix from routed agent identity when unset
[22m[39mslack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mdoes not derive responsePrefix from routed agent identity when unset
[22m[39mdelivered reply to user:U1

[90mstdout[2m | src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mthreads top-level replies when replyToMode is all
[22m[39mdelivered reply to user:U1

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mpreserves RawBody without injecting processed room history
[22m[39mslack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mtreats parent_user_id as a thread reply even when thread_ts matches ts
[22m[39mslack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mscopes thread history to the thread by default
[22m[39mslack channels unresolved: C1
slack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mtreats parent_user_id as a thread reply even when thread_ts matches ts
[22m[39mdelivered reply to user:U1

[90mstdout[2m | src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mkeeps thread parent inheritance opt-in
[22m[39mslack channels unresolved: C1
slack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mkeeps thread parent inheritance opt-in
[22m[39mdelivered reply to channel:C1

[90mstdout[2m | src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2minjects starter context for thread replies
[22m[39mslack channels unresolved: C1
slack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2minjects starter context for thread replies
[22m[39mdelivered reply to channel:C1

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mupdates assistant thread status when replies start
[22m[39mslack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mupdates assistant thread status when replies start
[22m[39mdelivered reply to user:U1

[90mstdout[2m | src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mscopes thread session keys to the routed agent
[22m[39mslack channels unresolved: C1
slack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mscopes thread session keys to the routed agent
[22m[39mdelivered reply to channel:C1

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2maccepts channel messages when mentionPatterns match
[22m[39mslack channels unresolved: C1
slack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2maccepts channel messages when mentionPatterns match
[22m[39mdelivered reply to channel:C1

[90mstdout[2m | src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mkeeps replies in channel root when message is not threaded (replyToMode off)
[22m[39mslack: groupPolicy defaults to "open" when channels.slack is missing; set channels.slack.groupPolicy (or channels.defaults.groupPolicy) or add channels.slack.channels to restrict access.

[90mstdout[2m | src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mkeeps replies in channel root when message is not threaded (replyToMode off)
[22m[39mslack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2maccepts channel messages when mentionPatterns match even if another user is mentioned
[22m[39mslack channels unresolved: C1
slack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mkeeps replies in channel root when message is not threaded (replyToMode off)
[22m[39mdelivered reply to user:U1

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2maccepts channel messages when mentionPatterns match even if another user is mentioned
[22m[39mdelivered reply to channel:C1

[90mstdout[2m | src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mthreads first reply when replyToMode is first and message is not threaded
[22m[39mslack: groupPolicy defaults to "open" when channels.slack is missing; set channels.slack.groupPolicy (or channels.defaults.groupPolicy) or add channels.slack.channels to restrict access.

[90mstdout[2m | src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mthreads first reply when replyToMode is first and message is not threaded
[22m[39mslack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mtreats replies to bot threads as implicit mentions
[22m[39mslack channels unresolved: C1
slack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mthreads first reply when replyToMode is first and message is not threaded
[22m[39mdelivered reply to user:U1

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mtreats replies to bot threads as implicit mentions
[22m[39mdelivered reply to channel:C1

 [32mâœ“[39m src/slack/monitor.tool-result.threads-top-level-replies-replytomode-is-all.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 68[2mms[22m[39m
[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2maccepts channel messages without mention when channels.slack.requireMention is false
[22m[39mslack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2maccepts channel messages without mention when channels.slack.requireMention is false
[22m[39mdelivered reply to channel:C1

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mtreats control commands as mentions for group bypass
[22m[39mslack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mtreats control commands as mentions for group bypass
[22m[39mdelivered reply to channel:C1

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mthreads replies when incoming message is in a thread
[22m[39mslack: groupPolicy defaults to "open" when channels.slack is missing; set channels.slack.groupPolicy (or channels.defaults.groupPolicy) or add channels.slack.channels to restrict access.

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mthreads replies when incoming message is in a thread
[22m[39mslack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mthreads replies when incoming message is in a thread
[22m[39mdelivered reply to user:U1

 [32mâœ“[39m src/slack/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 94[2mms[22m[39m
 [32mâœ“[39m src/process/command-queue.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 86[2mms[22m[39m
 [32mâœ“[39m src/cli/browser-cli-inspect.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/slack/monitor/message-handler/prepare.sender-prefix.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 14[2mms[22m[39m
[90mstdout[2m | src/agents/auth-profiles/oauth.fallback-to-main-agent.test.ts[2m > [22m[2mresolveApiKeyForProfile fallback to main agent[2m > [22m[2mfalls back to main agent credentials when secondary agent token is expired and refresh fails
[22m[39m[33m[agents/auth-profiles][39m [36minherited fresh OAuth credentials from main agent[39m

 [32mâœ“[39m src/agents/auth-profiles/oauth.fallback-to-main-agent.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 132[2mms[22m[39m
 [32mâœ“[39m src/memory/manager.async-search.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 51[2mms[22m[39m
 [32mâœ“[39m src/agents/skills.summarize-skill-description.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/cli/pairing-cli.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 73[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-tools.create-openclaw-coding-tools.adds-claude-style-aliases-schemas-without-dropping-f.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 131[2mms[22m[39m
 [32mâœ“[39m src/commands/auth-choice.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 196[2mms[22m[39m
 [32mâœ“[39m src/discord/monitor.tool-result.sends-status-replies-responseprefix.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 105[2mms[22m[39m
[90mstdout[2m | src/telegram/webhook.test.ts[2m > [22m[2mstartTelegramWebhook[2m > [22m[2mstarts server, registers webhook, and serves health
[22m[39mwebhook listening on http://localhost:0/telegram-webhook

[90mstdout[2m | src/telegram/webhook.test.ts[2m > [22m[2mstartTelegramWebhook[2m > [22m[2minvokes webhook handler on matching path
[22m[39mwebhook listening on http://localhost:0/hook

[90mstdout[2m | src/telegram/webhook.test.ts[2m > [22m[2mstartTelegramWebhook[2m > [22m[2mrejects non-loopback hosts unless explicitly allowed
[22m[39mwebhook listening on http://0.0.0.0:0/telegram-webhook

[90mstdout[2m | src/telegram/webhook.test.ts[2m > [22m[2mstartTelegramWebhook[2m > [22m[2mrejects oversized webhook requests before invoking handler
[22m[39mwebhook listening on http://localhost:0/telegram-webhook

 [32mâœ“[39m src/telegram/webhook.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 47[2mms[22m[39m
[90mstdout[2m | src/web/outbound.test.ts[2m > [22m[2mweb outbound[2m > [22m[2msends message via active listener
[22m[39m[35m[whatsapp][39m [36mSending message -> 1555@s.whatsapp.net[39m

[90mstdout[2m | src/web/outbound.test.ts[2m > [22m[2mweb outbound[2m > [22m[2msends message via active listener
[22m[39m[35m[whatsapp][39m [36mSent message msg123 -> 1555@s.whatsapp.net (18ms)[39m

[90mstdout[2m | src/web/outbound.test.ts[2m > [22m[2mweb outbound[2m > [22m[2mmaps audio to PTT with opus mime when ogg
[22m[39m[35m[whatsapp][39m [36mSending message -> 1555@s.whatsapp.net (media)[39m

[90mstdout[2m | src/web/outbound.test.ts[2m > [22m[2mweb outbound[2m > [22m[2mmaps audio to PTT with opus mime when ogg
[22m[39m[35m[whatsapp][39m [36mSent message msg123 -> 1555@s.whatsapp.net (media) (3ms)[39m

[90mstdout[2m | src/web/outbound.test.ts[2m > [22m[2mweb outbound[2m > [22m[2mmaps video with caption
[22m[39m[35m[whatsapp][39m [36mSending message -> 1555@s.whatsapp.net (media)[39m

[90mstdout[2m | src/web/outbound.test.ts[2m > [22m[2mweb outbound[2m > [22m[2mmaps video with caption
[22m[39m[35m[whatsapp][39m [36mSent message msg123 -> 1555@s.whatsapp.net (media) (4ms)[39m

[90mstdout[2m | src/web/outbound.test.ts[2m > [22m[2mweb outbound[2m > [22m[2mmarks gif playback for video when requested
[22m[39m[35m[whatsapp][39m [36mSending message -> 1555@s.whatsapp.net (media)[39m

[90mstdout[2m | src/web/outbound.test.ts[2m > [22m[2mweb outbound[2m > [22m[2mmarks gif playback for video when requested
[22m[39m[35m[whatsapp][39m [36mSent message msg123 -> 1555@s.whatsapp.net (media) (4ms)[39m

[90mstdout[2m | src/web/outbound.test.ts[2m > [22m[2mweb outbound[2m > [22m[2mmaps image with caption
[22m[39m[35m[whatsapp][39m [36mSending message -> 1555@s.whatsapp.net (media)[39m

[90mstdout[2m | src/web/outbound.test.ts[2m > [22m[2mweb outbound[2m > [22m[2mmaps image with caption
[22m[39m[35m[whatsapp][39m [36mSent message msg123 -> 1555@s.whatsapp.net (media) (5ms)[39m

[90mstdout[2m | src/web/outbound.test.ts[2m > [22m[2mweb outbound[2m > [22m[2mmaps other kinds to document with filename
[22m[39m[35m[whatsapp][39m [36mSending message -> 1555@s.whatsapp.net (media)[39m

[90mstdout[2m | src/web/outbound.test.ts[2m > [22m[2mweb outbound[2m > [22m[2mmaps other kinds to document with filename
[22m[39m[35m[whatsapp][39m [36mSent message msg123 -> 1555@s.whatsapp.net (media) (4ms)[39m

[90mstdout[2m | src/web/outbound.test.ts[2m > [22m[2mweb outbound[2m > [22m[2msends polls via active listener
[22m[39m[35m[whatsapp][39m [36mSending poll -> 1555@s.whatsapp.net: "Lunch?"[39m

[90mstdout[2m | src/web/outbound.test.ts[2m > [22m[2mweb outbound[2m > [22m[2msends polls via active listener
[22m[39m[35m[whatsapp][39m [36mSent poll poll123 -> 1555@s.whatsapp.net (4ms)[39m

[90mstdout[2m | src/web/outbound.test.ts[2m > [22m[2mweb outbound[2m > [22m[2msends reactions via active listener
[22m[39m[35m[whatsapp][39m [36mSending reaction "âœ…" -> message msg123[39m

[90mstdout[2m | src/web/outbound.test.ts[2m > [22m[2mweb outbound[2m > [22m[2msends reactions via active listener
[22m[39m[35m[whatsapp][39m [36mSent reaction "âœ…" -> message msg123[39m

 [32mâœ“[39m src/web/outbound.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 73[2mms[22m[39m
 [32mâœ“[39m src/agents/openclaw-tools.session-status.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 63[2mms[22m[39m
 [32mâœ“[39m src/agents/apply-patch.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 49[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.waits-multiple-compaction-retries-before-resolving.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 40[2mms[22m[39m
 [32mâœ“[39m src/rfsn/no-raw-tools.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 1293[2mms[22m[39m
     [33m[2mâœ“[22m[39m runtime agent files use createGatedTools instead of direct wrapper calls [33m 1287[2mms[22m[39m
 [32mâœ“[39m src/web/monitor-inbox.captures-media-path-image-messages.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 60[2mms[22m[39m
 [32mâœ“[39m src/infra/brew.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 68[2mms[22m[39m
 [32mâœ“[39m src/cron/service.delivery-plan.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 59[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/web-tools.enabled-defaults.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 66[2mms[22m[39m
 [32mâœ“[39m src/web/accounts.whatsapp-auth.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/commands.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 61[2mms[22m[39m
[90mstderr[2m | src/memory/manager.sync-errors-do-not-crash.test.ts[2m > [22m[2mmemory manager sync failures[2m > [22m[2mdoes not raise unhandledRejection when watch-triggered sync fails
[22m[39m[31m[memory][39m [33msync failed (watch): Error: openai embeddings failed: 400 bad request[39m

 [32mâœ“[39m src/memory/manager.sync-errors-do-not-crash.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 121[2mms[22m[39m
[90mstdout[2m | src/telegram/fetch.test.ts[2m > [22m[2mresolveTelegramFetch[2m > [22m[2mreturns wrapped global fetch when available
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

[90mstdout[2m | src/telegram/fetch.test.ts[2m > [22m[2mresolveTelegramFetch[2m > [22m[2mprefers proxy fetch when provided
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

[90mstdout[2m | src/telegram/fetch.test.ts[2m > [22m[2mresolveTelegramFetch[2m > [22m[2mhonors env enable override
[22m[39m[34m[telegram][39m [36mautoSelectFamily=true (env:OPENCLAW_TELEGRAM_ENABLE_AUTO_SELECT_FAMILY)[39m

[90mstdout[2m | src/telegram/fetch.test.ts[2m > [22m[2mresolveTelegramFetch[2m > [22m[2muses config override when provided
[22m[39m[34m[telegram][39m [36mautoSelectFamily=true (config)[39m

[90mstdout[2m | src/telegram/fetch.test.ts[2m > [22m[2mresolveTelegramFetch[2m > [22m[2menv disable override wins over config
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (env:OPENCLAW_TELEGRAM_DISABLE_AUTO_SELECT_FAMILY)[39m

 [32mâœ“[39m src/telegram/fetch.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 99[2mms[22m[39m
[90mstderr[2m | src/agents/pi-tools-agent-config.test.ts[2m > [22m[2mAgent-specific tool filtering[2m > [22m[2mshould apply provider-specific tool profile overrides
[22m[39m[34m[tools][39m [33mtools.profile (coding) allowlist contains unknown entries (group:memory). These entries won't match any tool unless the plugin is enabled.[39m

 [32mâœ“[39m src/agents/pi-tools-agent-config.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 95[2mms[22m[39m
 [32mâœ“[39m src/plugins/discovery.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 80[2mms[22m[39m
[90mstdout[2m | src/slack/monitor.threading.missing-thread-ts.test.ts[2m > [22m[2mmonitorSlackProvider threading[2m > [22m[2mrecovers missing thread_ts when parent_user_id is present
[22m[39mslack channels unresolved: C1
slack socket mode connected

[90mstdout[2m | src/slack/monitor.threading.missing-thread-ts.test.ts[2m > [22m[2mmonitorSlackProvider threading[2m > [22m[2mrecovers missing thread_ts when parent_user_id is present
[22m[39mdelivered reply to channel:C1

 [32mâœ“[39m src/slack/monitor.threading.missing-thread-ts.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 73[2mms[22m[39m
 [32mâœ“[39m src/agents/auth-profiles.ensureauthprofilestore.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 65[2mms[22m[39m
 [32mâœ“[39m src/version.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 95[2mms[22m[39m
 [32mâœ“[39m src/infra/outbound/message-action-runner.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 88[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/queue.collect-routing.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 93[2mms[22m[39m
 [32mâœ“[39m src/security/dangerous-ledger.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 66[2mms[22m[39m
 [32mâœ“[39m src/telegram/bot-message-context.dm-threads.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 137[2mms[22m[39m
 [32mâœ“[39m src/agents/system-prompt-params.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 144[2mms[22m[39m
 [32mâœ“[39m src/media/store.redirect.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 46[2mms[22m[39m
 [32mâœ“[39m src/config/config.identity-avatar.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 76[2mms[22m[39m
[90mstdout[2m | src/agents/cli-credentials.test.ts[2m > [22m[2mcli credentials[2m > [22m[2mupdates the Claude Code keychain item in place
[22m[39m[33m[agents/auth-profiles][39m [36mwrote refreshed credentials to claude cli keychain[39m

[90mstdout[2m | src/agents/cli-credentials.test.ts[2m > [22m[2mcli credentials[2m > [22m[2mfalls back to the file store when the keychain update fails
[22m[39m[33m[agents/auth-profiles][39m [36mwrote refreshed credentials to claude cli file[39m

[90mstdout[2m | src/agents/cli-credentials.test.ts[2m > [22m[2mcli credentials[2m > [22m[2mcaches Claude Code CLI credentials within the TTL window
[22m[39m[33m[agents/auth-profiles][39m [36mread anthropic credentials from claude cli keychain[39m

[90mstdout[2m | src/agents/cli-credentials.test.ts[2m > [22m[2mcli credentials[2m > [22m[2mrefreshes Claude Code CLI credentials after the TTL window
[22m[39m[33m[agents/auth-profiles][39m [36mread anthropic credentials from claude cli keychain[39m
[33m[agents/auth-profiles][39m [36mread anthropic credentials from claude cli keychain[39m

 [32mâœ“[39m src/web/monitor-inbox.streams-inbound-messages.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 89[2mms[22m[39m
[90mstdout[2m | src/agents/cli-credentials.test.ts[2m > [22m[2mcli credentials[2m > [22m[2mreads Codex credentials from keychain when available
[22m[39m[33m[agents/auth-profiles][39m [36mread codex credentials from keychain[39m

 [32mâœ“[39m src/agents/cli-credentials.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 122[2mms[22m[39m
 [32mâœ“[39m src/rfsn/wrap-tools.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 112[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner.sanitize-session-history.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 224[2mms[22m[39m
[90mstdout[2m | src/cli/memory-cli.test.ts[2m > [22m[2mmemory cli[2m > [22m[2menables verbose logging with --verbose
[22m[39mMemory Search (main)
Provider: openai (requested: openai)
Model: text-embedding-3-small
Indexed: 0/0 files Â· 0 chunks
Dirty: no
Store: /tmp/memory.sqlite
Workspace: /tmp/openclaw
Vector: ready
Issues:
  memory directory missing (/tmp/openclaw/memory)


[90mstdout[2m | src/cli/memory-cli.test.ts[2m > [22m[2mmemory cli[2m > [22m[2mlogs close failure after status
[22m[39mMemory Search (main)
Provider: openai (requested: openai)
Model: text-embedding-3-small
Indexed: 1/0 files Â· 1 chunks
Dirty: no
Store: /tmp/memory.sqlite
Workspace: /tmp/openclaw
Issues:
  memory directory missing (/tmp/openclaw/memory)


[90mstdout[2m | src/cli/memory-cli.test.ts[2m > [22m[2mmemory cli[2m > [22m[2mlogs close failures without failing the command
[22m[39mMemory index updated (main).

[90mstdout[2m | src/cli/memory-cli.test.ts[2m > [22m[2mmemory cli[2m > [22m[2mlogs close failure after search
[22m[39m0.500 memory/2026-01-12.md:1-2
Hello

 [32mâœ“[39m src/cli/memory-cli.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 155[2mms[22m[39m
 [32mâœ“[39m src/discord/send.sends-basic-channel-messages.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 69[2mms[22m[39m
 [32mâœ“[39m src/agents/session-write-lock.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 168[2mms[22m[39m
 [32mâœ“[39m src/web/auto-reply/monitor/message-line.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 48[2mms[22m[39m
 [32mâœ“[39m src/agents/openclaw-tools.sessions.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 71[2mms[22m[39m
 [32mâœ“[39m src/cron/store.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 45[2mms[22m[39m
[90mstdout[2m | src/telegram/bot.create-telegram-bot.blocks-all-group-messages-grouppolicy-is.test.ts[2m > [22m[2mcreateTelegramBot[2m > [22m[2mblocks all group messages when groupPolicy is 'disabled'
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

 [32mâœ“[39m src/telegram/bot.create-telegram-bot.blocks-all-group-messages-grouppolicy-is.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 211[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.splits-long-single-line-fenced-blocks-reopen.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 63[2mms[22m[39m
[90mstdout[2m | src/imessage/monitor.skips-group-messages-without-mention-by-default.test.ts[2m > [22m[2mmonitorIMessageProvider[2m > [22m[2mallows group messages when imessage groups default disables mention gating
[22m[39mimessage: delivered reply to chat_id:123

[90mstdout[2m | src/imessage/monitor.skips-group-messages-without-mention-by-default.test.ts[2m > [22m[2mmonitorIMessageProvider[2m > [22m[2mallows group messages when requireMention is true but no mentionPatterns exist
[22m[39mimessage: delivered reply to chat_id:777

[90mstdout[2m | src/imessage/monitor.skips-group-messages-without-mention-by-default.test.ts[2m > [22m[2mmonitorIMessageProvider[2m > [22m[2mtreats configured chat_id as a group session even when is_group is false
[22m[39mimessage: delivered reply to chat_id:2

[90mstdout[2m | src/imessage/monitor.skips-group-messages-without-mention-by-default.test.ts[2m > [22m[2mmonitorIMessageProvider[2m > [22m[2mprefixes final replies with responsePrefix
[22m[39mimessage: delivered reply to imessage:+15550001111

[90mstdout[2m | src/imessage/monitor.skips-group-messages-without-mention-by-default.test.ts[2m > [22m[2mmonitorIMessageProvider[2m > [22m[2mdelivers group replies when mentioned
[22m[39mimessage: delivered reply to chat_id:42

[90mstdout[2m | src/imessage/monitor.skips-group-messages-without-mention-by-default.test.ts[2m > [22m[2mmonitorIMessageProvider[2m > [22m[2mprefixes group message bodies with sender
[22m[39mimessage: delivered reply to chat_id:99

[90mstdout[2m | src/imessage/monitor.skips-group-messages-without-mention-by-default.test.ts[2m > [22m[2mmonitorIMessageProvider[2m > [22m[2mincludes reply context when imessage reply metadata is present
[22m[39mimessage: delivered reply to imessage:+15550001111

 [32mâœ“[39m src/imessage/monitor.skips-group-messages-without-mention-by-default.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 147[2mms[22m[39m
 [32mâœ“[39m src/agents/session-file-repair.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 230[2mms[22m[39m
 [32mâœ“[39m src/cron/service.store-migration.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 426[2mms[22m[39m
     [33m[2mâœ“[22m[39m migrates legacy top-level agentTurn fields and initializes missing state [33m 422[2mms[22m[39m
 [32mâœ“[39m src/agents/identity-avatar.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.suppresses-message-end-block-replies-message-tool.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 443[2mms[22m[39m
     [33m[2mâœ“[22m[39m suppresses message_end block replies when the message tool already sent [33m 436[2mms[22m[39m
 [32mâœ“[39m src/config/sessions.cache.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 254[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/abort.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 178[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/commands-policy.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 59[2mms[22m[39m
 [32mâœ“[39m src/browser/cdp.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 99[2mms[22m[39m
 [32mâœ“[39m src/commands/status.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 281[2mms[22m[39m
[90mstdout[2m | src/logger.test.ts[2m > [22m[2mlogger helpers[2m > [22m[2monly logs debug when verbose is enabled
[22m[39mloud

[90mstdout[2m | src/logger.test.ts[2m > [22m[2mlogger helpers[2m > [22m[2mwrites to configured log file at configured level
[22m[39mhello

[90mstdout[2m | src/logger.test.ts[2m > [22m[2mlogger helpers[2m > [22m[2mfilters messages below configured level
[22m[39minfo-only
warn-only

[90mstdout[2m | src/logger.test.ts[2m > [22m[2mlogger helpers[2m > [22m[2muses daily rolling default log file and prunes old ones
[22m[39mroll-me

 [32mâœ“[39m src/logger.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 116[2mms[22m[39m
[90mstdout[2m | src/agents/openclaw-gateway-tool.test.ts[2m > [22m[2mgateway tool[2m > [22m[2mschedules SIGUSR1 restart
[22m[39mgateway tool: restart requested (delayMs=0, reason=none)

 [32mâœ“[39m src/agents/openclaw-gateway-tool.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 32[2mms[22m[39m
[90mstdout[2m | src/imessage/monitor.updates-last-route-chat-id-direct-messages.test.ts[2m > [22m[2mmonitorIMessageProvider[2m > [22m[2mupdates last route with sender handle for direct messages
[22m[39mimessage: delivered reply to imessage:+15550004444

 [32mâœ“[39m src/imessage/monitor.updates-last-route-chat-id-direct-messages.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mâœ“[39m src/docs/slash-commands-doc.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 105[2mms[22m[39m
[90mstderr[2m | src/auto-reply/reply/agent-runner.heartbeat-typing.runreplyagent-typing-heartbeat.still-replies-even-if-session-reset-fails.test.ts[2m > [22m[2mrunReplyAgent typing (heartbeat)[2m > [22m[2mstill replies even if session reset fails to persist
[22m[39mSession history corrupted (Gemini function call ordering). Resetting session: main

 [32mâœ“[39m src/auto-reply/reply/agent-runner.heartbeat-typing.runreplyagent-typing-heartbeat.still-replies-even-if-session-reset-fails.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/web-fetch.firecrawl-api-key-normalization.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 58[2mms[22m[39m
 [32mâœ“[39m src/agents/model-fallback.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 105[2mms[22m[39m
 [32mâœ“[39m src/commands/doctor-legacy-config.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 68[2mms[22m[39m
[90mstdout[2m | src/telegram/send.returns-undefined-empty-input.test.ts[2m > [22m[2msendMessageTelegram[2m > [22m[2mpasses timeoutSeconds to grammY client when configured
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

[90mstderr[2m | src/telegram/send.returns-undefined-empty-input.test.ts[2m > [22m[2msendMessageTelegram[2m > [22m[2mfalls back to plain text when Telegram rejects HTML
[22m[39m[34m[telegram][39m [31mmessage failed: 400: Bad Request: can't parse entities: Can't find end of the entity starting at byte offset 9[39m

[90mstderr[2m | src/telegram/send.returns-undefined-empty-input.test.ts[2m > [22m[2msendMessageTelegram[2m > [22m[2mfalls back to plain text when Telegram rejects HTML
[22m[39mtelegram HTML parse failed, retrying as plain text: 400: Bad Request: can't parse entities: Can't find end of the entity starting at byte offset 9

[90mstderr[2m | src/telegram/send.returns-undefined-empty-input.test.ts[2m > [22m[2msendMessageTelegram[2m > [22m[2mkeeps link_preview_options on plain-text fallback when disabled
[22m[39m[34m[telegram][39m [31mmessage failed: 400: Bad Request: can't parse entities: Can't find end of the entity starting at byte offset 9[39m

[90mstderr[2m | src/telegram/send.returns-undefined-empty-input.test.ts[2m > [22m[2msendMessageTelegram[2m > [22m[2mwraps chat-not-found with actionable context
[22m[39m[34m[telegram][39m [31mmessage failed: 400: Bad Request: chat not found[39m

[90mstderr[2m | src/telegram/send.returns-undefined-empty-input.test.ts[2m > [22m[2msendMessageTelegram[2m > [22m[2mwraps chat-not-found with actionable context
[22m[39m[34m[telegram][39m [31mmessage failed: 400: Bad Request: chat not found[39m

[90mstderr[2m | src/telegram/send.returns-undefined-empty-input.test.ts[2m > [22m[2msendMessageTelegram[2m > [22m[2mdoes not retry on non-transient errors
[22m[39m[34m[telegram][39m [31mmessage failed: 400: Bad Request[39m

[90mstderr[2m | src/telegram/send.returns-undefined-empty-input.test.ts[2m > [22m[2msendMessageTelegram[2m > [22m[2mretries without message_thread_id when Telegram reports missing thread
[22m[39m[34m[telegram][39m [31mmessage failed: 400: Bad Request: message thread not found[39m

[90mstderr[2m | src/telegram/send.returns-undefined-empty-input.test.ts[2m > [22m[2msendMessageTelegram[2m > [22m[2mdoes not retry thread-not-found when no message_thread_id was provided
[22m[39m[34m[telegram][39m [31mmessage failed: 400: Bad Request: message thread not found[39m

[90mstderr[2m | src/telegram/send.returns-undefined-empty-input.test.ts[2m > [22m[2msendMessageTelegram[2m > [22m[2mretries media sends without message_thread_id when thread is missing
[22m[39m[34m[telegram][39m [31mphoto failed: 400: Bad Request: message thread not found[39m

 [32mâœ“[39m src/telegram/send.returns-undefined-empty-input.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 76[2mms[22m[39m
[90mstdout[2m | src/web/auto-reply.broadcast-groups.skips-unknown-broadcast-agent-ids-agents-list.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mskips unknown broadcast agent ids when agents.list is present
[22m[39m[35m[whatsapp][39m [36mListening for personal WhatsApp inbound messages.[39m

[90mstderr[2m | src/web/auto-reply.broadcast-groups.skips-unknown-broadcast-agent-ids-agents-list.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mskips unknown broadcast agent ids when agents.list is present
[22m[39m[35m[whatsapp][39m [33mBroadcast agent missing not found in agents.list; skipping[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.skips-unknown-broadcast-agent-ids-agents-list.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mskips unknown broadcast agent ids when agents.list is present
[22m[39m[35m[whatsapp][39m [36mBroadcasting message to 2 agents (parallel)[39m
[35m[whatsapp][39m [36mInbound message +1000 -> +2000 (direct, 47 chars)[39m

[90mstdout[2m | src/web/auto-reply.broadcast-groups.skips-unknown-broadcast-agent-ids-agents-list.test.ts[2m > [22m[2mbroadcast groups[2m > [22m[2mskips unknown broadcast agent ids when agents.list is present
[22m[39m[35m[whatsapp][39m [36mAuto-replied to +1000[39m

 [32mâœ“[39m src/web/auto-reply.broadcast-groups.skips-unknown-broadcast-agent-ids-agents-list.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 128[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner-extraparams.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 49[2mms[22m[39m
 [32mâœ“[39m src/signal/monitor/event-handler.inbound-contract.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 48[2mms[22m[39m
â”‚
â—‡  Auth profiles â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                         â”‚
â”‚  Deprecated external CLI auth profiles detected (no longer supported):  â”‚
â”‚  - anthropic:claude-cli (Anthropic): use setup-token â†’ openclaw models  â”‚
â”‚    auth setup-token                                                     â”‚
â”‚  - openai-codex:codex-cli (OpenAI Codex): use OAuth â†’ openclaw models   â”‚
â”‚    auth login --provider openai-codex                                   â”‚
â”‚                                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â”‚
â—‡  Doctor changes â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                â”‚
â”‚  - removed anthropic:claude-cli from config    â”‚
â”‚  - removed openai-codex:codex-cli from config  â”‚
â”‚                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
 [32mâœ“[39m src/auto-reply/reply/agent-runner.messaging-tools.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 164[2mms[22m[39m
 [32mâœ“[39m src/commands/doctor-auth.deprecated-cli-profiles.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 108[2mms[22m[39m
[90mstdout[2m | src/signal/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSignalProvider tool results[2m > [22m[2mskips tool summaries with responsePrefix
[22m[39mdelivered reply to signal:+15550001111

[90mstdout[2m | src/signal/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts[2m > [22m[2mmonitorSignalProvider tool results[2m > [22m[2mprocesses messages when reaction metadata is present
[22m[39mdelivered reply to signal:+15550001111

 [32mâœ“[39m src/signal/monitor.tool-result.sends-tool-summaries-responseprefix.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 47[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.subscribeembeddedpisession.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply.triggers.trigger-handling.stages-inbound-media-into-sandbox-workspace.security.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 53[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/envelope.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 75[2mms[22m[39m
 [32mâœ“[39m src/signal/monitor/event-handler.mention-gating.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 65[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.includes-canvas-action-metadata-tool-summaries.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 58[2mms[22m[39m
 [32mâœ“[39m src/discord/send.creates-thread.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 67[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply.triggers.trigger-handling.stages-inbound-media-into-sandbox-workspace.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 85[2mms[22m[39m
 [32mâœ“[39m src/cron/normalize.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/web/auto-reply/session-snapshot.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 61[2mms[22m[39m
 [32mâœ“[39m src/infra/provider-usage.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 102[2mms[22m[39m
 [32mâœ“[39m src/telegram/download.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m src/infra/ssh-config.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/telegram/token.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 101[2mms[22m[39m
 [32mâœ“[39m src/infra/node-pairing.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 54[2mms[22m[39m
 [32mâœ“[39m src/telegram/bot-message-context.dm-topic-threadid.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 45[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/web-fetch.ssrf.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 95[2mms[22m[39m
 [32mâœ“[39m src/config/schema.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 86[2mms[22m[39m
 [32mâœ“[39m src/config/plugin-auto-enable.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 36[2mms[22m[39m
 [32mâœ“[39m src/plugins/cli.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 35[2mms[22m[39m
[90mstdout[2m | src/telegram/bot.create-telegram-bot.matches-tg-prefixed-allowfrom-entries-case-insensitively.test.ts[2m > [22m[2mcreateTelegramBot[2m > [22m[2mmatches tg:-prefixed allowFrom entries case-insensitively in group allowlist
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

 [32mâœ“[39m src/telegram/bot.create-telegram-bot.matches-tg-prefixed-allowfrom-entries-case-insensitively.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 59[2mms[22m[39m
 [32mâœ“[39m src/agents/openclaw-tools.subagents.sessions-spawn-normalizes-allowlisted-agent-ids.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 70[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/agent-runner.memory-flush.runreplyagent-memory-flush.skips-memory-flush-cli-providers.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 59[2mms[22m[39m
 [32mâœ“[39m src/agents/openclaw-tools.subagents.sessions-spawn-resolves-main-announce-target-from.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m src/infra/device-identity.state-dir.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 47[2mms[22m[39m
[90mstderr[2m | src/agents/pi-embedded-runner.google-sanitize-thinking.test.ts[2m > [22m[2msanitizeSessionHistory (google thinking)[2m > [22m[2msanitizes tool call ids for Google APIs
[22m[39m[33m[agent/embedded][39m [33mgoogle turn ordering fixup: prepended user bootstrap (sessionId=session:google)[39m

 [32mâœ“[39m src/agents/pi-embedded-runner.google-sanitize-thinking.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mâœ“[39m src/hooks/frontmatter.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 19[2mms[22m[39m
[90mstderr[2m | src/memory/search-manager.test.ts[2m > [22m[2mgetMemorySearchManager caching[2m > [22m[2mevicts failed qmd wrapper so next call retries qmd
[22m[39m[31m[memory][39m [33mqmd memory failed; switching to builtin index: qmd query failed[39m

[90mstderr[2m | src/memory/search-manager.test.ts[2m > [22m[2mgetMemorySearchManager caching[2m > [22m[2mdoes not evict a newer cached wrapper when closing an older failed wrapper
[22m[39m[31m[memory][39m [33mqmd memory failed; switching to builtin index: qmd query failed[39m

[90mstderr[2m | src/memory/search-manager.test.ts[2m > [22m[2mgetMemorySearchManager caching[2m > [22m[2mfalls back to builtin search when qmd fails with sqlite busy
[22m[39m[31m[memory][39m [33mqmd memory failed; switching to builtin index: qmd index busy while reading results: SQLITE_BUSY: database is locked[39m

 [32mâœ“[39m src/memory/search-manager.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m src/agents/openclaw-tools.subagents.sessions-spawn-applies-model-child-session.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m src/infra/provider-usage.fetch.antigravity.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 57[2mms[22m[39m
 [32mâœ“[39m src/web/qr-image.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 47[2mms[22m[39m
 [32mâœ“[39m src/browser/profiles.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 17[2mms[22m[39m
[90mstdout[2m | src/web/login.test.ts[2m > [22m[2mweb login[2m > [22m[2mloginWeb waits for connection and closes
[22m[39mWaiting for WhatsApp connection...

[90mstdout[2m | src/web/login.test.ts[2m > [22m[2mweb login[2m > [22m[2mloginWeb waits for connection and closes
[22m[39mâœ… Linked! Credentials saved for future sends.

 [32mâœ“[39m src/web/login.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/agent-runner.heartbeat-typing.runreplyagent-typing-heartbeat.signals-typing-block-replies.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m src/markdown/ir.table-bullets.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 54[2mms[22m[39m
[90mstdout[2m | src/telegram/send.video-note.test.ts[2m > [22m[2msendMessageTelegram video notes[2m > [22m[2msends video as video note when asVideoNote is true
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

 [32mâœ“[39m src/telegram/send.video-note.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/inbound.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 44[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.reply-tags.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/infra/format-time/format-time.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 35[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/route-reply.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 49[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-tools.create-openclaw-coding-tools.adds-claude-style-aliases-schemas-without-dropping.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m src/infra/heartbeat-runner.sender-prefers-delivery-target.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 136[2mms[22m[39m
 [32mâœ“[39m src/infra/dotenv.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32mâœ“[39m src/commands/onboard-auth.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 48[2mms[22m[39m
 [32mâœ“[39m src/discord/audit.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 31[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner/run.overflow-compaction.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 35[2mms[22m[39m
[90mstdout[2m | src/slack/monitor.tool-result.forces-thread-replies-replytoid-is-set.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mforces thread replies when replyToId is set
[22m[39mslack: groupPolicy defaults to "open" when channels.slack is missing; set channels.slack.groupPolicy (or channels.defaults.groupPolicy) or add channels.slack.channels to restrict access.

[90mstdout[2m | src/slack/monitor.tool-result.forces-thread-replies-replytoid-is-set.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mforces thread replies when replyToId is set
[22m[39mslack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.forces-thread-replies-replytoid-is-set.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mforces thread replies when replyToId is set
[22m[39mdelivered reply to user:U1

[90mstdout[2m | src/slack/monitor.tool-result.forces-thread-replies-replytoid-is-set.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mreacts to mention-gated room messages when ackReaction is enabled
[22m[39mslack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.forces-thread-replies-replytoid-is-set.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mreplies with pairing code when dmPolicy is pairing and no allowFrom is set
[22m[39mslack socket mode connected

[90mstdout[2m | src/slack/monitor.tool-result.forces-thread-replies-replytoid-is-set.test.ts[2m > [22m[2mmonitorSlackProvider tool results[2m > [22m[2mdoes not resend pairing code when a request is already pending
[22m[39mslack socket mode connected

 [32mâœ“[39m src/slack/monitor.tool-result.forces-thread-replies-replytoid-is-set.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 55[2mms[22m[39m
 [32mâœ“[39m src/agents/workspace.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/agent-runner.heartbeat-typing.runreplyagent-typing-heartbeat.signals-typing-normal-runs.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/commands/sandbox.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/sessions-announce-target.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 27[2mms[22m[39m
[90mstdout[2m | src/telegram/send.preserves-thread-params-plain-text-fallback.test.ts[2m > [22m[2mbuildInlineKeyboard[2m > [22m[2mpreserves thread params in plain text fallback
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

[90mstderr[2m | src/telegram/send.preserves-thread-params-plain-text-fallback.test.ts[2m > [22m[2mbuildInlineKeyboard[2m > [22m[2mpreserves thread params in plain text fallback
[22m[39m[34m[telegram][39m [31mmessage failed: 400: Bad Request: can't parse entities: Can't find end of the entity[39m

 [32mâœ“[39m src/telegram/send.preserves-thread-params-plain-text-fallback.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 36[2mms[22m[39m
 [32mâœ“[39m src/telegram/bot/delivery.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/cron-tool.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 116[2mms[22m[39m
 [32mâœ“[39m src/web/session.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m src/infra/ports-inspect.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/agents/skills/bundled-dir.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 27[2mms[22m[39m
 [32mâœ“[39m src/infra/voicewake.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 12[2mms[22m[39m
[90mstderr[2m | src/commands/sessions.test.ts[2m > [22m[2msessionsCommand[2m > [22m[2mrenders a tabular view with token percentages
[22m[39m[openclaw] Model "pi:opus" specified without provider. Falling back to "anthropic/pi:opus". Please use "anthropic/pi:opus" in your config.

[90mstderr[2m | src/commands/sessions.test.ts[2m > [22m[2msessionsCommand[2m > [22m[2mshows placeholder rows when tokens are missing
[22m[39m[openclaw] Model "pi:opus" specified without provider. Falling back to "anthropic/pi:opus". Please use "anthropic/pi:opus" in your config.

 [32mâœ“[39m src/commands/sessions.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m src/commands/chutes-oauth.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 46[2mms[22m[39m
 [32mâœ“[39m src/discord/monitor/message-handler.process.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/media-understanding/providers/google/video.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m src/infra/system-events.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 33[2mms[22m[39m
[90mstdout[2m | src/telegram/send.caption-split.test.ts[2m > [22m[2msendMessageTelegram caption splitting[2m > [22m[2msplits long captions into media + text messages when text exceeds 1024 chars
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

[90mstderr[2m | src/telegram/send.caption-split.test.ts[2m > [22m[2msendMessageTelegram caption splitting[2m > [22m[2mwraps chat-not-found errors from follow-up message
[22m[39m[34m[telegram][39m [31mmessage failed: 400: Bad Request: chat not found[39m

 [32mâœ“[39m src/telegram/send.caption-split.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 102[2mms[22m[39m
[90mstdout[2m | src/web/login.coverage.test.ts[2m > [22m[2mloginWeb coverage[2m > [22m[2mrestarts once when WhatsApp requests code 515
[22m[39mWhatsApp asked for a restart after pairing (code 515); creds are saved. Restarting connection onceâ€¦

[90mstdout[2m | src/web/login.coverage.test.ts[2m > [22m[2mloginWeb coverage[2m > [22m[2mrestarts once when WhatsApp requests code 515
[22m[39mâœ… Linked after restart; web session ready.

[90mstdout[2m | src/web/login.coverage.test.ts[2m > [22m[2mloginWeb coverage[2m > [22m[2mclears creds and throws when logged out
[22m[39mWaiting for WhatsApp connection...

[90mstderr[2m | src/web/login.coverage.test.ts[2m > [22m[2mloginWeb coverage[2m > [22m[2mclears creds and throws when logged out
[22m[39mWhatsApp reported the session is logged out. Cleared cached web session; please rerun openclaw channels login and scan the QR again.

[90mstdout[2m | src/web/login.coverage.test.ts[2m > [22m[2mloginWeb coverage[2m > [22m[2mformats and rethrows generic errors
[22m[39mWaiting for WhatsApp connection...

[90mstderr[2m | src/web/login.coverage.test.ts[2m > [22m[2mloginWeb coverage[2m > [22m[2mformats and rethrows generic errors
[22m[39mWhatsApp Web connection ended before fully opening. formatted:Error: boom

 [32mâœ“[39m src/web/login.coverage.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m src/media-understanding/runner.deepgram.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 43[2mms[22m[39m
[90mstdout[2m | src/infra/heartbeat-runner.scheduler.test.ts[2m > [22m[2mstartHeartbeatRunner[2m > [22m[2mupdates scheduling when config changes without restart
[22m[39m[36m[heartbeat][39m [36mstarted[39m

 [32mâœ“[39m src/infra/heartbeat-runner.scheduler.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m src/media-understanding/resolve.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/telegram/bot-message-context.sender-prefix.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 44[2mms[22m[39m
 [32mâœ“[39m src/infra/exec-approvals.test.ts [2m([22m[2m44 tests[22m[2m)[22m[32m 79[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/reply-routing.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m src/cron/schedule.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mâœ“[39m src/commands/health.snapshot.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m src/discord/monitor.test.ts [2m([22m[2m40 tests[22m[2m)[22m[32m 36[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/commands-parsing.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 21[2mms[22m[39m
[90mstderr[2m | src/agents/pi-tools.before-tool-call.test.ts[2m > [22m[2mbefore_tool_call hook integration[2m > [22m[2mcontinues execution when hook throws
[22m[39m[33m[agents/tools][39m [33mbefore_tool_call hook failed: tool=read toolCallId=call-4 error=Error: boom[39m

 [32mâœ“[39m src/agents/pi-tools.before-tool-call.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/web/monitor-inbox.blocks-messages-from-unauthorized-senders-not-allowfrom.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 50[2mms[22m[39m
 [32mâœ“[39m src/daemon/service-env.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/imessage/probe.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner.get-dm-history-limit-from-session-key.returns-undefined-sessionkey-is-undefined.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/infra/restart-sentinel.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 93[2mms[22m[39m
 [32mâœ“[39m src/media-understanding/runner.vision-skip.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 27[2mms[22m[39m
 [32mâœ“[39m src/infra/outbound/deliver.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 27[2mms[22m[39m
[90mstdout[2m | src/telegram/send.edit-message.test.ts[2m > [22m[2meditMessageTelegram[2m > [22m[2mkeeps existing buttons when buttons is undefined (no reply_markup)
[22m[39m[34m[telegram][39m [36mautoSelectFamily=false (default-node22)[39m

[90mstderr[2m | src/telegram/send.edit-message.test.ts[2m > [22m[2meditMessageTelegram[2m > [22m[2mfalls back to plain text when Telegram HTML parse fails (and preserves reply_markup)
[22m[39m[34m[telegram][39m [31meditMessage failed: 400: Bad Request: can't parse entities[39m

 [32mâœ“[39m src/telegram/send.edit-message.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 81[2mms[22m[39m
 [32mâœ“[39m src/tts/tts.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/security/security-posture.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.emits-reasoning-as-separate-message-enabled.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 15[2mms[22m[39m
[90mstdout[2m | src/web/auto-reply/monitor/process-message.inbound-contract.test.ts[2m > [22m[2mweb processMessage inbound contract[2m > [22m[2mpasses a finalized MsgContext to the dispatcher
[22m[39m[35m[whatsapp][39m [36mInbound message 123@g.us -> +15550001111 (group, 55 chars)[39m

 [32mâœ“[39m src/web/auto-reply/monitor/process-message.inbound-contract.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m src/telegram/format.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/telegram/update-offset-store.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/browser-tool.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/telegram/accounts.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/command-control.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/config/config.tools-alsoAllow.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/channels/chat-type.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/security/bounded-map.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/config/normalize-paths.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 26[2mms[22m[39m
 [32mâœ“[39m src/infra/unhandled-rejections.fatal-detection.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 21[2mms[22m[39m
 [32mâœ“[39m src/agents/openclaw-tools.subagents.sessions-spawn-announces-agent-wait-lifecycle-events.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m src/signal/format.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.calls-onblockreplyflush-before-tool-execution-start-preserve.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 65[2mms[22m[39m
 [32mâœ“[39m src/slack/format.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.does-not-emit-duplicate-block-replies-text.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/slack/monitor/context.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 15[2mms[22m[39m
[90mstderr[2m | src/logging/console-settings.test.ts[2m > [22m[2mgetConsoleSettings[2m > [22m[2mdoes not recurse when loadConfig logs during resolution
[22m[39m2026-02-14T21:43:42.115Z config load failed

 [32mâœ“[39m src/logging/console-settings.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/media-understanding/runner.auto-audio.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 45[2mms[22m[39m
 [32mâœ“[39m src/rfsn/gate.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.does-not-call-onblockreplyflush-callback-is-not.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 33[2mms[22m[39m
 [32mâœ“[39m src/infra/unhandled-rejections.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/hooks/internal-hooks.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m src/slack/monitor/slash.command-arg-menus.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/commands/model-picker.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/channels/ack-reactions.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/formatting.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.code-span-awareness.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/daemon/systemd-unit.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/identity.per-channel-prefix.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/telegram/model-buttons.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/discord/monitor/agent-components.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/commands-registry.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m src/security/external-content.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m src/agents/openclaw-tools.subagents.sessions-spawn-prefers-per-agent-subagent-model.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m src/logging/console-capture.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m src/cli/parse-bytes.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/commands/auth-choice.default-model.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32mâœ“[39m src/plugins/config-state.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/media/mime.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/commands/channels.adds-non-default-telegram-account.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m src/infra/outbound/targets.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner.guard.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/message-tool.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/commands/agents.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mâœ“[39m src/commands/onboard-custom.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-utils.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/agents/auth-health.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mâœ“[39m src/commands/onboarding/plugin-install.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply.directive.parse.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.streams-soft-chunks-paragraph-preference.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/infra/retry.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/infra/outbound/message-action-runner.threading.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/security/network-egress-policy.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/line/flex-templates.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/telegram/send.proxy.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/memory/batch-voyage.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/config/config.web-search-provider.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/browser/pw-session.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.buildbootstrapcontextfiles.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/slack/monitor/slash.policy.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/commands-approve.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/plugins/voice-call.plugin.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/channels/plugins/load.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/cli/nodes-camera.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.reopens-fenced-blocks-splitting-inside-them.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/cron/service.jobs.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/agents/workspace-templates.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/agents/session-slug.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/slack/monitor.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/dispatch-from-config.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner/run/payloads.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/commands-info.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.filters-final-suppresses-output-without-start-tag.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/directive-handling.model.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/typing.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-tools.whatsapp-login-gating.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/agents/agent-paths.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/utils/usage-format.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/telegram/inline-buttons.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/telegram/audit.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.emits-block-replies-text-end-does-not.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 21[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/agent-runner.reasoning-tags.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/security/exec-env-allowlist.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/heartbeat.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/media-understanding/providers/deepgram/audio.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/infra/outbound/outbound-policy.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-extensions/compaction-safeguard.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/slack-actions.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m src/web/inbound/access-control.pairing-history.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/process/spawn-utils.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 10[2mms[22m[39m
(node:58731) [OPENCLAW_TEST_WARNING] Warning: Visible warning
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m src/infra/warning-filter.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/discord-actions.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/agents/session-tool-result-guard.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/line/accounts.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/config/sessions/metadata.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/line/webhook.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/tui/components/searchable-select-list.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/slack/targets.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/model-selection.inherit-parent.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/bash-process-registry.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/channels/plugins/actions/signal.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/hooks/bundled/soul-evil/handler.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
[90mstderr[2m | src/telegram/monitor.test.ts[2m > [22m[2mmonitorTelegramProvider (grammY)[2m > [22m[2mretries on recoverable network errors
[22m[39mTelegram network error: timeout; retrying in 0ms.

 [32mâœ“[39m src/telegram/monitor.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/line/signature.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/auth-profiles/session-override.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 54[2mms[22m[39m
 [32mâœ“[39m src/agents/models-config.providers.qianfan.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/media/store.header-ext.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/discord/monitor/exec-approvals.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.validate-turns.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/infra/state-migrations.fs.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 5[2mms[22m[39m
[90mstdout[2m | src/web/login-qr.test.ts[2m > [22m[2mlogin-qr[2m > [22m[2mrestarts login once on status 515 and completes
[22m[39mWhatsApp QR received.

[90mstdout[2m | src/web/login-qr.test.ts[2m > [22m[2mlogin-qr[2m > [22m[2mrestarts login once on status 515 and completes
[22m[39mWhatsApp asked for a restart after pairing (code 515); retrying connection onceâ€¦

[90mstdout[2m | src/web/login-qr.test.ts[2m > [22m[2mlogin-qr[2m > [22m[2mrestarts login once on status 515 and completes
[22m[39mâœ… Linked! WhatsApp is ready.

 [32mâœ“[39m src/web/login-qr.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.keeps-indented-fenced-blocks-intact.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/agents/minimax-vlm.normalizes-api-key.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.stripthoughtsignatures.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/whatsapp-actions.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/telegram/bot-native-commands.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/markdown/frontmatter.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/discord/monitor.gateway.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/agents/bootstrap-hooks.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/infra/runtime-guard.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/telegram-actions.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner/model.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.keeps-assistanttexts-final-answer-block-replies-are.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/media-understanding/providers/openai/audio.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/channels/plugins/directory-config.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/security/dangerous-action-limiter.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/media/parse.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/cli/program.force.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/agents/openclaw-tools.agents.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.does-not-duplicate-text-end-repeats-full.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/wizard/onboarding.gateway-config.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/chunk.test.ts [2m([22m[2m44 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/agents/cache-trace.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/line/markdown-to-line.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/infra/exec-approval-forwarder.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/agents/workspace.defaults.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/discord/chunk.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/agents/openclaw-tools.subagents.sessions-spawn-allows-cross-agent-spawning-configured.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/agents/sessions-spawn-threadid.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/commands/health.command.coverage.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/channels/plugins/normalize/signal.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/commands/health.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/tui/tui.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/media/fetch.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/mentions.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/tui/tui-event-handlers.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/channels/typing.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/line/auto-reply-delivery.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/line/probe.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/routing/resolve-route.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/sessions-send-tool.gating.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/commands/onboard-helpers.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/memory-tool.citations.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/globals.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/slack/client.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/channels/location.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/session-transcript-repair.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.subscribe-embedded-pi-session.does-not-append-text-end-content-is.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/agent-runner.authprofileid-fallback.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m src/security/provider-remote.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/channels/channel-config.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/channels/plugins/actions/telegram.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/cli/browser-cli.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.ismessagingtoolduplicate.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/web/accounts.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/agents/model-success-tracker.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/openclaw-tools.subagents.sessions-spawn-applies-thinking-default.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/commands/opencode-zen-model-default.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.formatrawassistanterrorforui.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/infra/binaries.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/node-host/runner.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/browser/chrome.default-browser.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/telegram/reaction-level.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/tool-meta.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/cli/cron-cli/shared.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/agents/channel-tools.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner.splitsdktools.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/thinking.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-settings.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/telegram/draft-chunking.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/line/template-messages.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/agent-runner.response-usage-footer.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/config/slack-http-config.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/agents/bootstrap-files.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/media/host.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/history.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/discord-actions-presence.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/agents/auth-profiles.resolve-auth-profile-order.does-not-prioritize-lastgood-round-robin-ordering.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/providers/google-shared.preserves-parameters-type-is-missing.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m src/agents/model-scan.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/sessions-helpers.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/infra/diagnostic-flags.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 21[2mms[22m[39m
 [32mâœ“[39m src/agents/bedrock-discovery.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/discord/resolve-channels.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/channels/plugins/outbound/telegram.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner/tool-result-truncation.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/agents/system-prompt.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner/run/images.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/config/slack-token-validation.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/line-directives.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/config/telegram-webhook-secret.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/terminal/table.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/config/includes.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mâœ“[39m src/acp/session.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/security/windows-acl.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/commands/channels/capabilities.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/discord/api.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/agents/auth-profiles.resolve-auth-profile-order.orders-by-lastused-no-explicit-order-exists.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/telegram/bot/helpers.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-tools.create-openclaw-coding-tools.adds-claude-style-aliases-schemas-without-dropping-b.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/link-understanding/detect.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/browser/client.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/commands/configure.gateway.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/telegram/voice.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/commands/google-gemini-model-default.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/gateway.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/daemon/constants.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/cli/profile.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/channels/targets.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/imessage/client.allowed-bins.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner.applygoogleturnorderingfix.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.isautherrormessage.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/browser/config.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/config/config.skills-entries-config.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/rfsn/policy.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/commands/agent-via-gateway.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/tui/tui-input-history.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/workspace-run.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/commands/onboard-skills.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-block-chunker.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/config/config.telegram-custom-commands.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m src/infra/bonjour-discovery.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/channels/plugins/normalize/imessage.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/response-prefix-template.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/agent-runner.claude-cli.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/discord/pluralkit.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/agent-runner.block-streaming.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/commands/onboard-hooks.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/web/inbound.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/slack/monitor/thread-resolution.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/daemon/program-args.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/security/system-run-constraints.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/browser/target-id.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/browser/profiles-service.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/utils/transcript-tools.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/providers/github-copilot-token.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/agents/model-selection.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/commands/openai-model-default.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/channels/plugins/actions/discord/handle-action.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/memory-search.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner.get-dm-history-limit-from-session-key.falls-back-provider-default-per-dm-not.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/config/runtime-overrides.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/commands/daemon-install-helpers.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/commands/agents.add.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/utils/delivery-context.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/agents/sandbox-explain.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/config/ui-seam-color.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.isfailovererrormessage.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/infra/is-main.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/infra/outbound/agent-delivery.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/tui/tui-session-actions.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/telegram/draft-stream.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/macos/relay-smoke.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/index.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/infra/outbound/outbound-session.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/config/redact-snapshot.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/daemon/runtime-paths.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m src/rfsn/redact.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/tui/tui-command-handlers.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m src/agents/model-catalog.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.iscloudcodeassistformaterror.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/agents/agent-scope.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/config/env-substitution.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/slack/threading.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/infra/shell-env.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/infra/outbound/target-resolver.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/browser/pw-role-snapshot.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/commands/openai-codex-model-default.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/discord/targets.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/model.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m src/rfsn/tool-args.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m src/discord/monitor/threading.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/infra/heartbeat-visibility.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/cron/delivery.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/media-understanding/format.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.sanitize-session-messages-images.keeps-tool-call-tool-result-ids-unchanged.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/agents/pty-keys.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/slack/http/registry.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/discord/gateway-logging.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/agents/shell-utils.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/tui/commands.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/web/auto-reply/mentions.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/slack/actions.read.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/agents/compaction.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/agents/opencode-zen-models.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/memory/hybrid.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/commands/auth-choice-options.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.sanitizesessionmessagesimages-thought-signature-stripping.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/routing/session-key.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/cli/parse-duration.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/tool-call-id.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mâœ“[39m src/line/rich-menu.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/agents/auth-profiles.resolve-auth-profile-order.uses-stored-profiles-no-config-exists.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/line/send.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner/run/attempt.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/infra/outbound/payloads.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/cli/wait.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/channels/web/index.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/logging/redact.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/channels/mention-gating.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/telegram/bot-message-dispatch.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m src/security/startup-validator.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/pairing/pairing-messages.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/slack/monitor/channel-config.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/infra/outbound/envelope.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/logging/parse-log-line.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/slack/threading-tool-context.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/shared/text/reasoning-tags.test.ts [2m([22m[2m39 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/web-search.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/telegram/targets.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/telegram/bot-native-commands.plugin-auth.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m src/infra/net/ssrf.pinning.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/memory/backend-config.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/cli/hooks-cli.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/agents/models-config.providers.ollama.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner.buildembeddedsandboxinfo.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/web/reconnect.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/rfsn/gate-feedback.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/daemon/paths.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.sanitizeuserfacingtext.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-extensions/context-pruning.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/whatsapp/normalize.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/telegram/proxy.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/tool-policy.conformance.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/tui/tui-waiting.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.formatassistanterrortext.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/daemon/systemd.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/browser/server-context.ensure-tab-available.prefers-last-target.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.downgradeopenai-reasoning.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/timeout.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/agents/sandbox/tool-policy.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.image-size-error.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/rfsn/capability-validate.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/acp/session-mapper.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/channels/plugins/slack.actions.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/memory-flush.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 76[2mms[22m[39m
 [32mâœ“[39m src/plugin-sdk/index.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/channels/plugins/config-writes.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m src/infra/restart.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m src/infra/fetch.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/web/auto-reply/monitor/group-gating.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 134[2mms[22m[39m
 [32mâœ“[39m src/agents/sandbox-create-args.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.islikelycontextoverflowerror.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/terminal/stream-writer.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/providers/qwen-portal-oauth.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m src/config/agent-dirs.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m src/tui/tui.submit-handler.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.sanitize-session-messages-images.removes-empty-assistant-text-blocks-but-preserves.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/agents/tool-policy.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/infra/home-dir.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/commands/dashboard.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/hooks/gmail.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/subagents-utils.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner.resolvesessionagentids.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/infra/retry-policy.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/telegram/network-errors.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner.limithistoryturns.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/channels/plugins/index.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/browser/unsafe-eval.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/infra/outbound/format.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/tool-display.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/commands/channels.surfaces-signal-runtime-errors-channels-status-output.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/security/stable-hash.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/skills/frontmatter.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/cli/progress.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/line/reply-chunks.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.normalizetextforcomparison.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/agents/chutes-oauth.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/sessions/send-policy.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/common.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/signal/daemon.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/imessage/targets.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/telegram/network-config.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/discord/token.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/utils/message-channel.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 2[2mms[22m[39m
 [32mâœ“[39m src/tui/tui-formatters.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/infra/dedupe.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/utils/boolean.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/commands/configure.wizard.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/daemon/systemd-availability.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/infra/env.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/commands/configure.gateway-auth.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/agents/usage.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/channels/command-gating.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/plugins/slots.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m src/media-understanding/attachments.ssrf.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/commands/doctor-platform-notes.launchctl-env-overrides.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/config/channel-capabilities.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.messaging-duplicate.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/wizard/onboarding.completion.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/tui/tui-overlays.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/cli/run-main.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/commands/sandbox-formatters.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/discord/monitor/allow-list.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/infra/system-presence.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/config/commands.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/normalize-reply.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/model-compat.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/signal/monitor.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/channels/conversation-label.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/channels/sender-identity.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/discord/monitor/gateway-registry.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/infra/node-shell.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-subscribe.tools.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/rfsn/runtime-caps.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/reply/agent-runner-utils.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m src/cli/nodes-canvas.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/providers/google-shared.ensures-function-call-comes-after-user-turn.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/wizard/session.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/signal/probe.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/cli/argv.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-tools.policy.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/security/capability-approval.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/skills.resolveskillspromptforrun.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/telegram/group-migration.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/identity-file.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/cli/nodes-screen.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/infra/agent-events.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/channels/registry.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/tui/tui-stream-assembler.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/tool-policy.plugin-only-allowlist.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/slack/resolve-channels.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/agents/auth-profiles.resolve-auth-profile-order.normalizes-z-ai-aliases-auth-order.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/tui/tui-local-shell.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/identity.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/commands/health-format.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 2[2mms[22m[39m
 [32mâœ“[39m src/infra/tailnet.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/logging/console-prefix.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/config/config-paths.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/memory-tool.does-not-crash-on-errors.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/tui/gateway-chat.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/plugins/source-display.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 2[2mms[22m[39m
 [32mâœ“[39m src/infra/channel-activity.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/infra/update-check.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.sanitizetoolcallid.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/browser/routes/utils.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/infra/shell-env.path.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.iscontextoverflowerror.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/failover-error.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/config/sessions/paths.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 2[2mms[22m[39m
 [32mâœ“[39m src/infra/diagnostic-events.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 2[2mms[22m[39m
 [32mâœ“[39m src/infra/widearea-dns.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/discord/monitor/presence-cache.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 2[2mms[22m[39m
 [32mâœ“[39m src/config/model-alias-defaults.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/context-window-guard.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/browser/cdp.helpers.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/slack/channel-migration.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/auto-reply/media-note.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/infra/ssh-tunnel.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/security/capability-registry.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/acp/event-mapper.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/polls.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.classifyfailoverreason.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/agents/tools/sessions-list-tool.gating.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m src/discord/probe.intents.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/config/sessions/reset.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/media-understanding/scope.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner/google.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.isbillingerrormessage.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/auth-profiles.auth-profile-cooldowns.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.sanitizegoogleturnordering.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/telegram/sent-message-cache.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 2[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.resolvebootstrapmaxchars.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m src/telegram/bot-message.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/cli/prompt.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-runner.createsystempromptoverride.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.iscompactionfailureerror.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/agents/pi-embedded-helpers.image-dimension-error.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 2[2mms[22m[39m
 [32mâœ“[39m src/rfsn/policy-invariants.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 2[2mms[22m[39m
 [32mâœ“[39m src/commands/doctor-workspace.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/infra/tls/fingerprint.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 2[2mms[22m[39m
 [32mâœ“[39m src/agents/pty-dsr.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 2[2mms[22m[39m
 [32mâœ“[39m src/hooks/gmail-watcher.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/channel-web.barrel.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 3[2mms[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Tests 6 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m src/agents/openclaw-tools.camera.test.ts[2m > [22mnodes run[2m > [22mpasses invoke and command timeouts
[31m[1mError[22m: agent=main node=mac-1 gateway=default action=run: unexpected method: exec.approval.request[39m
[36m [2mâ¯[22m Object.execute src/agents/tools/nodes-tool.ts:[2m609:15[22m[39m
    [90m607| [39m        [35mconst[39m agentLabel [33m=[39m agentId [33m??[39m [32m"unknown"[39m[33m;[39m
    [90m608| [39m        const message = err instanceof Error ? err.message : String(erâ€¦
    [90m609| [39m        [35mthrow[39m [35mnew[39m [33mError[39m(
    [90m   | [39m              [31m^[39m
    [90m610| [39m          `agent=${agentLabel} node=${nodeLabel} gateway=${gatewayLabeâ€¦
    [90m611| [39m          { cause[33m:[39m err }[33m,[39m
[90m [2mâ¯[22m src/agents/openclaw-tools.camera.test.ts:[2m125:5[22m[39m

[31m[1mCaused by: Error[22m: unexpected method: exec.approval.request[39m
[36m [2mâ¯[22m src/agents/openclaw-tools.camera.test.ts:[2m117:13[22m[39m
[90m [2mâ¯[22m callGatewayTool src/agents/tools/gateway.ts:[2m36:16[22m[39m
[90m [2mâ¯[22m Object.execute src/agents/tools/nodes-tool.ts:[2m454:44[22m[39m
[90m [2mâ¯[22m src/agents/openclaw-tools.camera.test.ts:[2m125:5[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/6]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/agents/pi-tools.create-openclaw-coding-tools.adds-claude-style-aliases-schemas-without-dropping-d.test.ts[2m > [22mcreateOpenClawCodingTools[2m > [22mkeeps read tool image metadata intact
[31m[1mSafeOpenError[22m: path escapes sandbox root: /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-read-sxVDUe/sample.png[39m
[36m [2mâ¯[22m validatePathWithinRoot src/infra/fs-safe.ts:[2m75:11[22m[39m
    [90m 73| [39m  [90m// Ensure the resolved canonical path is within the root[39m
    [90m 74| [39m  [35mif[39m ([33m![39mcanonicalResolved[33m.[39m[34mstartsWith[39m(rootWithSep)) {
    [90m 75| [39m    throw new SafeOpenError("invalid-path", `path escapes sandbox rootâ€¦
    [90m   | [39m          [31m^[39m
    [90m 76| [39m  }
    [90m 77| [39m
[90m [2mâ¯[22m resolveSandboxPath src/agents/sandbox-paths.ts:[2m48:34[22m[39m
[90m [2mâ¯[22m assertSandboxPath src/agents/sandbox-paths.ts:[2m61:20[22m[39m
[90m [2mâ¯[22m execute src/agents/pi-tools.read.ts:[2m264:9[22m[39m
[90m [2mâ¯[22m Object.execute src/agents/pi-tools.before-tool-call.ts:[2m85:14[22m[39m
[90m [2mâ¯[22m src/agents/pi-tools.create-openclaw-coding-tools.adds-claude-style-aliases-schemas-without-dropping-d.test.ts:[2m31:22[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/6]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/agents/pi-tools.create-openclaw-coding-tools.adds-claude-style-aliases-schemas-without-dropping-d.test.ts[2m > [22mcreateOpenClawCodingTools[2m > [22mreturns text content without image blocks for text files
[31m[1mSafeOpenError[22m: path escapes sandbox root: /var/folders/xt/jh84t2kj6hl26tk5qx3m_28h0000gn/T/openclaw-read-CQf7kF/sample.txt[39m
[36m [2mâ¯[22m validatePathWithinRoot src/infra/fs-safe.ts:[2m75:11[22m[39m
    [90m 73| [39m  [90m// Ensure the resolved canonical path is within the root[39m
    [90m 74| [39m  [35mif[39m ([33m![39mcanonicalResolved[33m.[39m[34mstartsWith[39m(rootWithSep)) {
    [90m 75| [39m    throw new SafeOpenError("invalid-path", `path escapes sandbox rootâ€¦
    [90m   | [39m          [31m^[39m
    [90m 76| [39m  }
    [90m 77| [39m
[90m [2mâ¯[22m resolveSandboxPath src/agents/sandbox-paths.ts:[2m48:34[22m[39m
[90m [2mâ¯[22m assertSandboxPath src/agents/sandbox-paths.ts:[2m61:20[22m[39m
[90m [2mâ¯[22m execute src/agents/pi-tools.read.ts:[2m264:9[22m[39m
[90m [2mâ¯[22m Object.execute src/agents/pi-tools.before-tool-call.ts:[2m85:14[22m[39m
[90m [2mâ¯[22m src/agents/pi-tools.create-openclaw-coding-tools.adds-claude-style-aliases-schemas-without-dropping-d.test.ts:[2m59:22[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[3/6]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/commands/doctor-security.test.ts[2m > [22mnoteSecurityWarnings gateway exposure[2m > [22mskips warning for loopback bind
[31m[1mAssertionError[22m: expected '- Break-glass: none active (good)\n- â€¦' to contain 'No channel security warnings detected'[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- No channel security warnings detected[39m
[31m+ - Break-glass: none active (good)[39m
[31m+ - Dangerous commands: none enabled via config (good)[39m
[31m+ - Auth mode: token[39m
[31m+ - Auth token: NOT SET â€” fix with openclaw doctor --fix[39m
[31m+ - Run: openclaw security audit --deep[39m

[36m [2mâ¯[22m src/commands/doctor-security.test.ts:[2m73:21[22m[39m
    [90m 71| [39m    [35mawait[39m [34mnoteSecurityWarnings[39m(cfg)[33m;[39m
    [90m 72| [39m    [35mconst[39m message [33m=[39m [34mlastMessage[39m()[33m;[39m
    [90m 73| [39m    [34mexpect[39m(message)[33m.[39m[34mtoContain[39m([32m"No channel security warnings detected"[39m)[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m 74| [39m    [34mexpect[39m(message)[33m.[39mnot[33m.[39m[34mtoContain[39m([32m"Gateway bound"[39m)[33m;[39m
    [90m 75| [39m  })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[4/6]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/infra/gateway-lock.test.ts[2m > [22mgateway lock[2m > [22mtreats recycled linux pid as stale when start time mismatches
[31m[1mGatewayLockError[22m: gateway already running (pid 54471); lock timeout after 200ms[39m
[36m [2mâ¯[22m acquireGatewayLock src/infra/gateway-lock.ts:[2m259:9[22m[39m
    [90m257| [39m
    [90m258| [39m  [35mconst[39m owner [33m=[39m lastPayload[33m?.[39mpid [33m?[39m [32m` (pid [39m[36m${[39mlastPayload[33m.[39mpid[36m}[39m[32m)`[39m [33m:[39m [32m""[39m[33m;[39m
    [90m259| [39m  throw new GatewayLockError(`gateway already running${owner}; lock tiâ€¦
    [90m   | [39m        [31m^[39m
    [90m260| [39m}
    [90m261| [39m
[90m [2mâ¯[22m src/infra/gateway-lock.test.ts:[2m114:18[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[5/6]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m src/wizard/onboarding.test.ts[2m > [22mrunOnboardingWizard[2m > [22mskips prompts and setup steps when flags are set
[31m[1mError[22m: Test timed out in 120000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m src/wizard/onboarding.test.ts:[2m130:3[22m[39m
    [90m128| [39m  })[33m;[39m
    [90m129| [39m
    [90m130| [39m  [34mit[39m([32m"skips prompts and setup steps when flags are set"[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m  [31m^[39m
    [90m131| [39m    const select: WizardPrompter["select"] = vi.fn(async () => "quicksâ€¦
    [90m132| [39m    const multiselect: WizardPrompter["multiselect"] = vi.fn(async () â€¦

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[6/6]âŽ¯[22m[39m


[2m Test Files [22m [1m[31m5 failed[39m[22m[2m | [22m[1m[32m902 passed[39m[22m[90m (907)[39m
[2m      Tests [22m [1m[31m6 failed[39m[22m[2m | [22m[1m[32m5914 passed[39m[22m[90m (5920)[39m
[2m   Start at [22m 15:34:51
[2m   Duration [22m 664.57s[2m (transform 200.42s, setup 1769.12s, import 1115.93s, tests 851.05s, environment 94ms)[22m

